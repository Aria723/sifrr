<!DOCTYPE html>
<html>
<head>
<title>flamebearer</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
    html, body { height: 100%; }
    body { font: 16px "Helvetica Neue", sans-serif; margin: 0; }
    body.hover { background: #cfc; }
    h1 { font-size: 30px; margin: 30px 30px 15px; }
    h1 a { color: black; text-decoration: none; }
    h1 a:hover { text-decoration: underline; }
    #fire-icon { fill: #f53; width: 26px; height: 26px; vertical-align: -1px; }
    #intro { margin: 0 30px; }
    code { font-size: 13px; color: #444; }
    code span { color: #aaa; }
    #canvas { width: 100%; }
    #controls { display: none; }
    #search { margin-right: 10px; }
    #highlight { position: absolute; pointer-events: none; background: #ffffff40; }
    .loaded #intro { display: none; }
    .loaded #header { display: flex; align-items: center; flex-flow: row wrap; padding: 7px 10px; }
    .loaded h1 { font-size: 22px; margin: 0 auto 0 0; flex-shrink: 0; }
    .loaded #fire-icon { width: 20px; height: 20px; }
    .loaded #controls { display: block; flex-shrink: 0; }
    #tooltip { position: absolute; pointer-events: none; background: #ffffff; white-space: nowrap; box-shadow: 1px 2px 4px 0px rgba(0,0,0,0.3); border-radius: 2px; padding: 3px 5px; font: 12px Tahoma, sans-serif; display: none; }
    #tooltip .path { color: #888; font-size: 11px; }
    #tooltip .time { color: #4a4; }
</style>
</head>
<body>

<div id="header">
    <h1><svg id="fire-icon" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15 15" style="enable-background:new 0 0 15 15;" xml:space="preserve"><path d="M7.5,0.5L5,4.5l-1.5-2 C2.9452,3.4753,0.8036,5.7924,0.8036,8.3036C0.8036,12.002,3.8017,15,7.5,15s6.6964-2.998,6.6964-6.6964 c0-2.5112-2.1416-4.8283-2.6964-5.8036l-1.5,2L7.5,0.5z M7.5,7c0,0,2.5,2.5618,2.5,4.5c0,0.8371-0.8259,2-2.5,2S5,12.3371,5,11.5 C5,9.6283,7.5,7,7.5,7z"/></svg> <a href="https://github.com/mapbox/flamebearer">flamebearer</a></h1>
    <div id="controls">
        <input id="search" placeholder="Search..." />
        <button id="reset">Reset view</button>
    </div>
</div>
<div id="highlight"></div>
<div id="tooltip"></div>
<div id="intro"><!--  --></div>
<canvas id="canvas" height="0"></canvas>

<!--  -->
<script>'use strict';

const introEl = document.getElementById('intro');
const searchEl = document.getElementById('search');
const highlightEl = document.getElementById('highlight');
const tooltipEl = document.getElementById('tooltip');
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let names, levels, numTicks;

names = ["(unknown)","~(anonymous) internal/bootstrap/context.js:1:1","(C++) v8::internal::Runtime_InterpreterDeserializeLazy","(C++) _getattrlistbulk","(unknown)","~(anonymous) internal/bootstrap/primordials.js:1:1","~makeSafe internal/bootstrap/primordials.js:26:18","~copyProps internal/bootstrap/primordials.js:15:19","(lib) /usr/lib/system/libsystem_kernel.dylib","(bytecode) ~CallProperty1","(builtin) ArrayForEach","~forEach internal/bootstrap/primordials.js:73:11","(C++) v8::internal::Builtin_ReflectGetOwnPropertyDescriptor","(C++) v8::internal::Heap::AllocateRawWithRetryOrFail","~(anonymous) internal/bootstrap/loaders.js:1:1","~SafeSet internal/bootstrap/primordials.js:47:3","(builtin) SetConstructor","(C++) v8::internal::Runtime_DeserializeLazy","(C++) std::__1::locale::__imp::install","~NativeModule internal/bootstrap/loaders.js:152:22","(bytecode) ~StaNamedProperty","~(anonymous) internal/bootstrap/node.js:1:1","~nativeModuleRequire internal/bootstrap/loaders.js:182:29","~NativeModule.compile internal/bootstrap/loaders.js:291:42","~(anonymous) internal/util.js:1:1","~(anonymous) internal/errors.js:1:1","~E internal/errors.js:189:11","~makeNodeErrorWithCode internal/errors.js:150:31","(C++) v8::internal::Runtime_DefineClass","(C++) v8::internal::Factory::AllocateRawWithAllocationSite","~(anonymous) internal/util/types.js:1:1","(C++) v8::internal::CpuFeatures::FlushICache","~setupGlobalProxy internal/bootstrap/node.js:386:26","~makeSetter internal/bootstrap/node.js:400:22","~deprecate internal/util.js:47:19","(C++) v8::internal::Runtime_LoadIC_Miss","(C++) v8::internal::JSObject::MakePrototypesFast","~setupBuffer internal/bootstrap/node.js:425:21","~(anonymous) buffer.js:1:1","~(anonymous) internal/util/inspect.js:1:1","(builtin) LoadIC_Uninitialized","~(anonymous) internal/buffer.js:1:1","(C++) v8::internal::Runtime_KeyedStoreIC_Miss","(C++) v8::internal::compiler::RawMachineAssembler::Load","~(anonymous) internal/process/per_thread.js:1:1","(C++) v8::internal::Runtime_LoadGlobalIC_Miss","(C++) v8::internal::ScopeInfo::ContextSlotIndex","~createGlobalConsole internal/bootstrap/node.js:437:29","(C++) v8::internal::Builtin_StringPrototypeStartsWith","(C++) v8::internal::String::Flatten","~(anonymous) internal/url.js:1:1","~(anonymous) timers.js:1:1","~debuglog util.js:202:18","~setupDOMException internal/bootstrap/node.js:483:27","~(anonymous) internal/domexception.js:1:1","(C++) v8::internal::Builtin_ObjectDefineProperty","(C++) v8::internal::FieldIndex::FieldEncoding","~(anonymous) internal/main/run_main_module.js:1:1","~resolve path.js:970:10","~Module.runMain internal/modules/cjs/loader.js:851:26","~Module._load internal/modules/cjs/loader.js:570:24","~tryModuleLoad internal/modules/cjs/loader.js:603:23","~Module.load internal/modules/cjs/loader.js:658:33","~Module._extensions..js internal/modules/cjs/loader.js:808:37","~Module._compile internal/modules/cjs/loader.js:721:37","(builtin) InterpreterEntryTrampoline","~(anonymous) ./packages/server/sifrr-server/test/public/all.js:1:1","~webSocketServer ./packages/server/sifrr-server/test/public/server.js:14:25","~require internal/modules/cjs/helpers.js:13:19","~Module.require internal/modules/cjs/loader.js:697:36","~(anonymous) ./packages/server/sifrr-server/test/public/benchmarks/sifrr.js:1:1","~(anonymous) ./packages/server/sifrr-server/src/sifrr.server.js:1:1","~readFileSync fs.js:345:22","~openSync fs.js:438:18","~toPathIfFileURL internal/url.js:1385:25","(builtin) KeyedLoadIC_PolymorphicName","~(anonymous) ./packages/server/sifrr-server/src/server/app.js:1:1","~(anonymous) ./packages/server/sifrr-server/src/server/baseapp.js:1:1","~(anonymous) ./packages/server/sifrr-server/src/server/sendfile.js:1:1","~(anonymous) zlib.js:1:1","(bytecode) ~LdaConstant","~(anonymous) ./packages/server/sifrr-server/src/server/formdata.js:1:1","~(anonymous) ./node_modules/busboy/lib/main.js:1:1","~(anonymous) ./node_modules/busboy/lib/utils.js:1:1","~(anonymous) ./node_modules/busboy/deps/encoding/encoding.js:1:1","~Module._resolveFilename internal/modules/cjs/loader.js:615:35","~Module._findPath internal/modules/cjs/loader.js:285:28","~normalizeString path.js:52:25","(bytecode) ~Ldar","~(anonymous) ./node_modules/busboy/lib/types/multipart.js:1:1","~Module._resolveLookupPaths internal/modules/cjs/loader.js:465:38","(builtin) StringAdd_CheckNone_NotTenured","~load ./packages/server/sifrr-server/src/server/baseapp.js:129:7","~loadRoutes ./packages/server/sifrr-server/src/server/loadroutes.js:4:20","~files.forEach ./packages/server/sifrr-server/src/server/loadroutes.js:16:17","~basePaths.forEach ./packages/server/sifrr-server/src/server/loadroutes.js:26:25","~folder ./packages/server/sifrr-server/src/server/baseapp.js:21:9","~statSync fs.js:865:18","~getStatsFromBinding internal/fs/utils.js:315:29","~Stats internal/fs/utils.js:240:15","~dateFromNumeric internal/fs/utils.js:235:25","(C++) v8::internal::Builtin_DateConstructor","(C++) v8::internal::Factory::InitializeJSObjectFromMap","~listen ./packages/server/sifrr-server/src/server/baseapp.js:134:9","~_listen ./packages/server/sifrr-server/src/server/baseapp.js:141:23","(builtin) StoreIC_Uninitialized","~app.ws.post.folder.folder.file.folder.get.get.file.listen ./packages/server/sifrr-server/test/public/server.js:77:19","(C++) node::inspector::","~log internal/console/constructor.js:283:6","~Console.(anonymous function) internal/console/constructor.js:272:47","~get internal/console/constructor.js:149:10","~getStdout internal/process/stdio.js:12:21","~createWritableStdioStream internal/process/stdio.js:136:35","~WriteStream tty.js:74:21","~Socket net.js:230:16","~Duplex _stream_duplex.js:47:16","~Readable _stream_readable.js:149:18","~Stream internal/streams/legacy.js:6:16","~EventEmitter events.js:26:22","~EventEmitter.init events.js:74:29","(C++) v8::internal::Runtime_StoreIC_Miss","(C++) v8::internal::StoreIC::ComputeHandler","~Module._nodeModulePaths internal/modules/cjs/loader.js:424:37","(builtin) StringPrototypeCharCodeAt","~(anonymous) ./packages/server/sifrr-server/test/public/benchmarks/express.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/express.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/application.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/finalhandler/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/debug/src/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/debug/src/node.js:1:1","(bytecode) ~LdaNamedProperty","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/debug/src/debug.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/ms/index.js:1:1","(C++) v8::internal::Factory::NewCodeForDeserialization","~getStderr internal/process/stdio.js:24:21","~addListener events.js:270:58","~_addListener events.js:208:22","(C++) v8::internal::StackFrameIteratorBase::StackFrameIteratorBase","~createDebug ./packages/server/sifrr-server/test/public/node_modules/debug/src/debug.js:63:21","~selectColor ./packages/server/sifrr-server/test/public/node_modules/debug/src/debug.js:44:21","~tryCreateBuffer fs.js:318:25","~allocUnsafe buffer.js:283:42","~allocate buffer.js:310:18","~FastBuffer internal/buffer.js:788:1","(builtin) TypedArrayConstructor","(builtin) TypedArrayInitializeWithBuffer","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/router/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/router/route.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/router/layer.js:1:1","~alignPool buffer.js:124:19","(bytecode) ~JumpIfToBooleanFalse","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/middleware/query.js:1:1","~tryPackage internal/modules/cjs/loader.js:222:20","~tryFile internal/modules/cjs/loader.js:242:17","~toRealPath internal/modules/cjs/loader.js:250:20","~realpathSync fs.js:1395:22","(builtin) StringPrototypeSlice","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/utils.js:1:1","~makeRequireFunction internal/modules/cjs/helpers.js:10:29","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/send/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/http-errors/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/http-errors/node_modules/statuses/index.js:1:1","~populateStatusesMap ./packages/server/sifrr-server/test/public/node_modules/http-errors/node_modules/statuses/index.js:60:30","~forEachCode ./packages/server/sifrr-server/test/public/node_modules/http-errors/node_modules/statuses/index.js:63:51","(C++) v8::internal::LookupIterator::PrepareTransitionToDataProperty","~populateConstructorExports ./packages/server/sifrr-server/test/public/node_modules/http-errors/index.js:225:37","~forEachCode ./packages/server/sifrr-server/test/public/node_modules/http-errors/index.js:226:38","~createClientErrorConstructor ./packages/server/sifrr-server/test/public/node_modules/http-errors/index.js:131:39","(builtin) StringPrototypeMatch","(C++) v8::internal::Runtime_RegExpExec","(C++) v8::internal::StackGuard::PushInterruptsScope","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/etag/index.js:1:1","~(anonymous) crypto.js:1:1","~(anonymous) internal/crypto/cipher.js:1:1","~addCipherPrototypeFunctions internal/crypto/cipher.js:238:37","(C++) v8::internal::IC::OnFeedbackChanged","~tryExtensions internal/modules/cjs/loader.js:257:23","~isFileType fs.js:165:20","(builtin) KeyedLoadIC","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/mime/mime.js:1:1","~Module._extensions..json internal/modules/cjs/loader.js:815:39","(C++) v8::internal::Builtin_JsonParse","(C++) v8::internal::HashTable","~Mime.define ./packages/server/sifrr-server/test/public/node_modules/mime/mime.js:21:34","(C++) v8::internal::Runtime_ForInEnumerate","(C++) void std::__1::__sort","~Mime.lookup ./packages/server/sifrr-server/test/public/node_modules/mime/mime.js:69:33","(builtin) StringPrototypeReplace","(builtin) MapPrototypeGet","(builtin) FindOrderedHashMapEntry","~wrapfunction ./packages/server/sifrr-server/test/public/node_modules/depd/index.js:397:23","~getStack ./packages/server/sifrr-server/test/public/node_modules/depd/index.js:365:19","(builtin) LoadIC_Noninlined","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/request.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/accepts/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/mime-types/index.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/mime-db/index.js:1:1","(C++) v8::internal::JsonParser","~populateMaps ./packages/server/sifrr-server/test/public/node_modules/mime-types/index.js:154:23","~forEachMimeType ./packages/server/sifrr-server/test/public/node_modules/mime-types/index.js:158:52","(builtin) KeyedStoreIC_Megamorphic","(bytecode) ~ThrowReferenceErrorIfHole","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/express/lib/response.js:1:1","~tryReadSync fs.js:333:21","~readSync fs.js:490:18","(bytecode) ~BitwiseOrSmi","~get ./packages/server/sifrr-server/test/public/node_modules/body-parser/index.js:122:23","~loadParser ./packages/server/sifrr-server/test/public/node_modules/body-parser/index.js:132:21","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/body-parser/lib/types/json.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/body-parser/lib/read.js:1:1","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/raw-body/index.js:1:1","(builtin) Call_ReceiverIsNullOrUndefined","~(anonymous) ./packages/server/sifrr-server/test/public/node_modules/compression/index.js:1:1","~NativeModule.canBeRequiredByUsers internal/bootstrap/loaders.js:213:45","~use ./packages/server/sifrr-server/test/public/node_modules/express/lib/application.js:187:23","~lazyrouter ./packages/server/sifrr-server/test/public/node_modules/express/lib/application.js:137:37","(C++) v8::internal::Runtime_CompileLazy","(C++) v8::internal::WasmCompileLazyFrame::unchecked_code","~_serveStatic ./packages/server/sifrr-server/src/server/baseapp.js:72:15","~sendFile ./packages/server/sifrr-server/src/server/sendfile.js:13:18","~sendFileToRes ./packages/server/sifrr-server/src/server/sendfile.js:23:23","~Readable.pipe _stream_readable.js:617:35","~once events.js:297:44","~_onceWrap events.js:289:19","(builtin) StoreIC","~value zlib.js:817:20","~Gzip zlib.js:697:14","~Zlib zlib.js:582:14","~ZlibBase zlib.js:217:18","~Transform _stream_transform.js:104:19","~Writable _stream_writable.js:203:18","~WritableState _stream_writable.js:54:23","~Promise.resolve.then ./node_modules/uWebSockets.js/uws.js:23:27","~resume_ _stream_readable.js:933:17","~flow _stream_readable.js:957:14","~Readable.read _stream_readable.js:377:35","(builtin) NumberParseInt","(C++) v8::internal::Runtime_StringParseInt","(C++) v8::internal::Heap::AllocateRaw","~createReadStream fs.js:1753:26","~ReadStream internal/fs/streams.js:53:20","~Readable.on _stream_readable.js:828:33","~Readable.resume _stream_readable.js:912:37","~resume _stream_readable.js:926:16","~module.exports.process.nextTick.args ./node_modules/uWebSockets.js/uws.js:22:22","(builtin) PromiseResolveTrampoline","(builtin) PromiseResolve","~ReadableState _stream_readable.js:70:23","~getHighWaterMark internal/streams/state.js:10:26","~highWaterMarkFrom internal/streams/state.js:5:27","~prependListener _stream_readable.js:52:25","(C++) v8::internal::","~processCallback zlib.js:486:25","~afterTransform _stream_transform.js:78:24","~onwrite _stream_writable.js:450:17","~afterWrite _stream_writable.js:481:20","~onwriteDrain _stream_writable.js:492:22","~emit events.js:146:44","~pipeOnDrainFunctionResult _stream_readable.js:757:44","~ondata _stream_readable.js:694:18","~Writable.write _stream_writable.js:273:36","(C++) v8::internal::Builtin_ObjectGetPrototypeOf","(C++) v8::internal::PrototypeIterator::HasAccess","~maybeReadMore_ _stream_readable.js:572:24","~ReadStream._read internal/fs/streams.js:129:38","~allocNewPool internal/fs/streams.js:32:22","~createUnsafeBuffer buffer.js:108:28","(C++) v8::internal::Builtin_ArrayBufferConstructor","(C++) v8::internal::LocalArrayBufferTracker::Add","(C++) v8::internal::StackFrame::ComputeType","~Transform.push _stream_transform.js:149:36","~Readable.push _stream_readable.js:207:35","~readableAddChunk _stream_readable.js:232:26","~addChunk _stream_readable.js:285:18","~readStream.on ./packages/server/sifrr-server/src/server/sendfile.js:85:27","(builtin) CEntry_Return1_DontSaveFPRegs_ArgvOnStack_BuiltinExit","(lib) /usr/lib/system/libsystem_platform.dylib","(builtin) CEntry_Return1_DontSaveFPRegs_ArgvOnStack_NoBuiltinExit","(C++) _uv__hrtime","(C++) v8::internal::Builtin_Impl_ArrayBufferConstructor","(builtin) CallWithSpread","~wrapper fs.js:476:19","~fs.read internal/fs/streams.js:162:55","~slice buffer.js:1006:40","~adjustOffset buffer.js:989:22","(bytecode) ~TestEqualStrict","~fromList _stream_readable.js:1090:18","~writeOrBuffer _stream_writable.js:365:23","~doWrite _stream_writable.js:405:17","~Transform._write _stream_transform.js:168:38","~Transform._read _stream_transform.js:185:37","~ZlibBase._transform zlib.js:358:41","~processChunk zlib.js:466:22","(C++) v8::internal::Builtin_HandleApiCall","(C++) v8::internal::Logger::ApiObjectAccess","~push internal/streams/buffer_list.js:17:7","(builtin) ArgumentsAdaptorTrampoline","~maybeReadMore _stream_readable.js:565:23","(builtin) RunMicrotasks","(lib) /usr/lib/libc++abi.dylib","(C++) v8::internal::JSArrayBuffer::SetupAllocatingData","(C++) v8::internal::Runtime_CreateObjectLiteral","~handleErrorFromBinding fs.js:115:32","~ReadStream.open internal/fs/streams.js:111:37","~open fs.js:411:14","(C++) v8::internal::MaybeHandle","~isUint8Array internal/util/types.js:28:22","~args internal/util/types.js:11:10","(bytecode) ~Return","(bytecode) ~TestLessThan","(bytecode) ~LdaUndefined","~howMuchToRead _stream_readable.js:351:23","(bytecode) ~CallProperty","(bytecode) ~LdaImmutableContextSlot","Readable.read _stream_readable.js:377:35","(builtin) LoadIC","~Readable.pause _stream_readable.js:946:36","(builtin) NewArgumentsElements","(bytecode) ~JumpIfToBooleanTrue","~emitReadable_ _stream_readable.js:537:23","~debug util.js:213:35","(bytecode) ~LdaFalse","(builtin) InterpreterPushArgsThenConstruct","~getExt ./packages/server/sifrr-server/src/server/ext.js:171:11","(bytecode) ~CallUndefinedReceiver","~finishMaybe _stream_writable.js:640:21","~onceWrapper events.js:281:21","~onfinish _stream_readable.js:732:20","(builtin) Call_ReceiverIsAny","(bytecode) ~LdaCurrentContextSlot","processCallback zlib.js:486:25","~get _stream_duplex.js:119:6","(builtin) CallFunction_ReceiverIsAny","~endReadableNT _stream_readable.js:1125:23","(C++) v8::internal::Worklist","(C++) v8::internal::MarkCompactCollector::MarkingWorklist::Pop","emit events.js:146:44","~Readable.removeListener _stream_readable.js:858:45","~removeListener events.js:314:28","(bytecode) ~Mov","~Readable.unpipe _stream_readable.js:770:37","~onunpipe _stream_readable.js:646:20","~cleanup _stream_readable.js:669:19","~assertSize buffer.js:251:20","(bytecode) ~JumpIfTrue","~args fs.js:144:10","(bytecode) ~LdaGlobal","~getOptions internal/fs/utils.js:167:20","(bytecode) ~JumpIfNotUndefined","(builtin) FunctionPrototypeHasInstance","(C++) v8::internal::Builtin_ArrayBufferPrototypeSlice","(C++) v8::internal::Factory::NewNumber","(C++) v8::internal::Builtin_TypedArrayPrototypeBuffer","(C++) v8::internal::Builtin_Impl_TypedArrayPrototypeBuffer","(C++) v8::internal::PerIsolateAssertScope","(builtin) KeyedLoadIC_Megamorphic","(C++) v8::internal::IncrementalMarking::Step","(C++) void v8::internal::BodyDescriptorBase::IteratePointers","(stub) StoreFastElementStub","Promise.resolve.then ./node_modules/uWebSockets.js/uws.js:23:27","~nop _stream_writable.js:52:13","(bytecode) ~StackCheck","readableAddChunk _stream_readable.js:232:26","~onEofChunk _stream_readable.js:496:20","flow _stream_readable.js:957:14","(bytecode) ~GetSuperConstructor","~validatePath internal/fs/utils.js:447:22","~nullCheck internal/fs/utils.js:188:19","(C++) _tiny_free_no_lock","(C++) _nano_common_configure","(C++) v8::internal::Builtin_DatePrototypeToUTCString","(bytecode) ~CallUndefinedReceiver0","(builtin) TypedArrayPrototypeLength","~read fs.js:452:14","(bytecode) ~CreateFunctionContext","~(anonymous) internal/fs/streams.js:103:26","~destroy internal/streams/destroy.js:4:17","(bytecode) ~CallProperty2","(builtin) ArrayBufferConstructor","Transform._read _stream_transform.js:185:37","(C++) __kernelrpc_mach_port_request_notification","(builtin) CreateTypedArray","(bytecode) ~JumpIfFalse","(builtin) CallFunction_ReceiverIsNullOrUndefined","(bytecode) ~CallUndefinedReceiver2","(C++) _malloc_set_zone_name","~fs.open internal/fs/streams.js:112:45","~(anonymous) internal/fs/streams.js:131:38","(C++) void v8::internal::LookupIterator::Start","~checkListener events.js:51:23","readStream.on ./packages/server/sifrr-server/src/server/sendfile.js:85:27","(C++) _vm_region_recurse_64","~writeHeaders ./packages/server/sifrr-server/src/server/utils.js:1:22","(C++) v8::internal::JSObject::RawFastPropertyAtPut","dateFromNumeric internal/fs/utils.js:235:25","(C++) v8::internal::JSFunction::EnsureHasInitialMap","(C++) v8::internal::Builtin_DatePrototypeSetMilliseconds","(C++) v8::internal::DateCache::GetLocalOffsetFromOS","maybeReadMore _stream_readable.js:565:23","(C++) _tiny_malloc_should_clear","args internal/util/types.js:11:10","(C++) v8::internal::MemoryChunk::IncrementExternalBackingStoreBytes","(C++) __pthread_exit_if_canceled","(stub) JSEntryStub","read fs.js:452:14","(C++) v8::internal::JSTypedArray::GetBuffer","(builtin) TypedArrayPrototypeToStringTag","(builtin) Call_ReceiverIsNotNullOrUndefined","~EventEmitter.listenerCount events.js:442:38","~listenerCount events.js:451:23","(bytecode) ~TestTypeOf","(C++) v8::internal::HeapObject::SizeFromMap","(C++) v8::internal::Builtin_Impl_HandleApiCall","wrapper fs.js:476:19","(C++) __malloc_initialize","Transform._write _stream_transform.js:168:38","(C++) void node::","onceWrapper events.js:281:21","ReadStream._read internal/fs/streams.js:129:38","(C++) v8::internal::SaveContext::~SaveContext","(C++) _uv_queue_work","(C++) v8::internal::ApiNatives::InstantiateObject","(bytecode) ~Star","(C++) v8::internal::StringToInt","(bytecode) ~SetPendingMessage","(bytecode) ~LdaSmi","(bytecode) ~TestUndetectable","(C++) v8::internal::ConsString* v8::internal::String::VisitFlat","(bytecode) ~ShiftRightLogicalSmi","(builtin) StringToLowerCaseIntl","(builtin) GreaterThan","(C++) _small_malloc_should_clear","(bytecode) ~LdaNull","(C++) std::__1::__hash_table","~clearBuffer _stream_writable.js:500:21","(C++) v8::internal::Object::ConvertToString","~readStream.on.on ./packages/server/sifrr-server/src/server/sendfile.js:121:16","(builtin) CompileLazy","(C++) int v8::internal::Search","maybeReadMore_ _stream_readable.js:572:24","Readable.on _stream_readable.js:828:33","~_close zlib.js:563:16","once events.js:297:44","(C++) v8::internal::Runtime_StackGuard","(C++) v8::internal::IncrementalMarking::WhiteToGreyAndPush","(builtin) JSBuiltinsConstructStub","(builtin) EnqueueMicrotask","(C++) v8::ArrayBuffer::GetContents","destroy internal/streams/destroy.js:4:17","~fs.close internal/fs/streams.js:204:23","(lib) /usr/lib/system/libsystem_malloc.dylib","(C++) v8::internal::Execution::Call","emitReadable_ _stream_readable.js:537:23","(C++) node::fs::Read","(builtin) FastNewObject","(C++) _thread_get_state","(builtin) ParseInt","ondata _stream_readable.js:694:18","fs.read internal/fs/streams.js:162:55","(C++) _small_malloc_from_free_list","(builtin) DeleteProperty","(C++) v8::internal::FunctionTemplateInfo::IsTemplateFor","(builtin) StringPrototypeIndexOf","(C++) v8::internal::Runtime_Interrupt","(C++) v8::internal::InterpretedFrame::type","value zlib.js:817:20","ZlibBase zlib.js:217:18","(C++) void v8::internal::BodyDescriptorBase::IterateMaybeWeakPointer","(C++) void v8::internal::BodyDescriptorBase::IterateMaybeWeakPointers","afterWrite _stream_writable.js:481:20","(builtin) TypedArrayPrototypeByteLength","(lib) /usr/lib/system/libsystem_pthread.dylib","~alloc buffer.js:270:30","(builtin) FulfillPromise","processChunk zlib.js:466:22","(C++) _malloc_print_configure","addChunk _stream_readable.js:285:18","(C++) v8::internal::Handle","(C++) node::","pipeOnDrainFunctionResult _stream_readable.js:757:44","(C++) v8::internal::FunctionCallbackArguments::FunctionCallbackArguments","(C++) v8::ArrayBufferView::ByteLength","(C++) v8::internal::Builtin_StringPrototypeLastIndexOf","(bytecode) ~CreateObjectLiteral","onwrite _stream_writable.js:450:17","(C++) v8::internal::Factory::InitializeJSObjectBody","(bytecode) ~TestLessThanOrEqual","~toNamespacedPath path.js:1137:19","(C++) node::Buffer::Length","(C++) _free_tiny","(bytecode) ~LdaImmutableCurrentContextSlot","(C++) v8::internal::Builtin_Impl_ObjectGetPrototypeOf","slice buffer.js:1006:40","(C++) v8::internal::JSArrayBuffer::Setup","(C++) _malloc_zone_register_while_locked","afterTransform _stream_transform.js:78:24","(C++) v8::internal::JSObject::GetHeaderSize","(builtin) StrictEqual","(C++) _uv_buf_init","(C++) v8::internal::Object::SpeciesConstructor","(bytecode) ~JumpIfNull","args fs.js:144:10","(C++) v8::internal::RelocIterator::next","fromList _stream_readable.js:1090:18","~consume internal/streams/buffer_list.js:77:10","~checkPosition internal/fs/streams.js:41:23","(C++) __pthread_mutex_lock_init_slow","_addListener events.js:208:22","(C++) v8::internal::Heap::IterateStrongRoots","(C++) v8::internal::Map::RawCopy","(C++) v8::internal::StatsCounter::Increment","(C++) _free_small","(builtin) GetProperty","Readable.push _stream_readable.js:207:35","~emitReadable _stream_readable.js:526:22","(C++) v8::internal::RelocIterator::RelocIterator","(C++) v8::internal::Isolate::CurrentEmbeddedBlobSize","(bytecode) ~Add","(C++) _uprv_floor_63","(C++) v8::Value::IsInt32","(C++) v8::Int32::Value","(C++) v8::internal::SliceHelper","(stub) CallApiCallbackStub","(C++) node::NodePlatform::MonotonicallyIncreasingTime","debug util.js:213:35","(C++) _post","~onend _stream_readable.js:656:17","~Writable.end _stream_writable.js:571:34","(C++) node::Buffer::HasInstance","(C++) v8::Value::IsTypedArray","module.exports.process.nextTick.args ./node_modules/uWebSockets.js/uws.js:22:22","(bytecode) ~CreateRestParameter","~emitCloseNT internal/streams/destroy.js:63:21","(C++) v8::Value::IsArrayBufferView","(builtin) Add","(builtin) PerformPromiseThen","(C++) v8::internal::MarkingVisitor","(bytecode) ~JumpIfUndefined","(C++) _szone_size","(C++) v8::internal::SaveContext::SaveContext","allocate buffer.js:310:18","~chunkInvalid _stream_readable.js:303:22","(C++) node::Buffer::Data","Readable.removeListener _stream_readable.js:858:45","(builtin) PromiseFulfillReactionJob","(C++) v8::internal::ArrayBufferTracker::RegisterNew","get _stream_duplex.js:119:6","(C++) v8::internal::Object::GetProperty","(builtin) AdaptorWithBuiltinExitFrame","(C++) v8::Value::IsObject","(builtin) KeyedStoreIC","(C++) v8::internal::LookupIterator::State v8::internal::LookupIterator::LookupInRegularHolder","(builtin) CallForwardVarargs","(builtin) ConstructFunction","(C++) icu_63::OlsonTimeZone::transitionTimeInSeconds","(C++) void v8::internal::RelocInfo::Visit","(builtin) ResolvePromise","(C++) _tre_parse","(C++) node::fs::FSReqCallback::SetReturnValue","(bytecode) ~LdaContextSlot","(C++) _szone_malloc","(bytecode) ~LdaKeyedProperty","(C++) v8::internal::IncrementalMarkingRootMarkingVisitor::VisitRootPointer","(builtin) CallApiCallback_Argc1","(C++) v8::ArrayBufferView::ByteOffset","_serveStatic ./packages/server/sifrr-server/src/server/baseapp.js:72:15","sendFileToRes ./packages/server/sifrr-server/src/server/sendfile.js:23:23","prefinish _stream_transform.js:139:19","(C++) ___pthread_init","Transform.push _stream_transform.js:149:36","(C++) __pthread_mutex_check_init_slow","(builtin) ForInEnumerate","emitReadable _stream_readable.js:526:22","(C++) v8::internal::String::GetFlatContent","(C++) v8::internal::Factory::CopyJSObjectWithAllocationSite","getStatsFromBinding internal/fs/utils.js:315:29","(builtin) DateConstructor","(C++) node::ArrayBufferAllocator::Allocate","(C++) _nanov2_batch_malloc","(C++) v8::internal::StringTable::LookupStringIfExists_NoAllocate","writeHeaders ./packages/server/sifrr-server/src/server/utils.js:1:22","ReadStream internal/fs/streams.js:53:20","endReadable _stream_readable.js:1115:21","(builtin) CallVarargs","(builtin) KeyedLoadICTrampoline","(C++) v8::internal::JSObject::New","(builtin) ReflectApply","(builtin) OrdinaryHasInstance","(builtin) TypedArrayInitialize","(builtin) Construct","(C++) v8::internal::Factory::NewJSObjectFromMap","(bytecode) ~Jump","(builtin) Divide","Readable.pipe _stream_readable.js:617:35","~prependListener events.js:277:29","(builtin) StoreICTrampoline","(builtin) RecordWrite","(C++) v8::internal::FunctionCallbackArguments::Call","~shift internal/streams/buffer_list.js:35:8","(C++) v8::internal::Runtime_AddDictionaryProperty","(C++) v8::internal::BaseNameDictionary","(C++) v8::internal::JSFunction::GetDerivedMap","(builtin) CallBoundFunction","(builtin) LoadICTrampoline","copyObject internal/fs/utils.js:115:20","(C++) _csops","(C++) node::fs::Stat","(C++) v8::internal::Object::GetPropertyWithDefinedGetter","(C++) node::ArrayBufferAllocator::AllocateUninitialized","cleanup _stream_readable.js:669:19","(C++) void v8::internal::BodyDescriptorBase::IteratePointer","(C++) v8::Value::StrictEquals","(C++) v8::internal::Factory::AllocateRawWithImmortalMap","(C++) v8::internal::FunctionTemplateInfo::TryGetCachedPropertyName","_close zlib.js:563:16","(C++) _close$NOCANCEL","emitCloseNT internal/streams/destroy.js:63:21","~endWritable _stream_writable.js:661:21","(C++) _uv_fs_read","(C++) _create_scalable_szone","(bytecode) ~CallUndefinedReceiver1","(C++) v8::internal::MarkCompactCollector::CollectEvacuationCandidates","(C++) v8::internal::ObjectVisitor::VisitRelocInfo","(C++) v8::internal::MarkCompactCollector::RecordRelocSlot","(builtin) InterpreterPushUndefinedAndArgsThenCall","(builtin) StringIndexOf","~res.onAborted ./packages/server/sifrr-server/src/server/sendfile.js:82:17","~ZlibBase._destroy zlib.js:353:39","~_destroy internal/streams/destroy.js:37:30"];
levels = [[0,1,0,0,2668,4],[0,1,1,0,3,5,0,2,14,0,10,21,0,38,57,0,10,65,0,116,219,0,8,233,0,14,252,0,41,253,0,92,282,0,5,297,0,7,299,0,4,329,0,2000,331,0,3,333,0,45,346,0,2,355,0,114,360,0,2,384,0,2,401,0,8,404,0,3,408,0,11,414,0,3,420,0,6,438,0,2,440,0,1,453,0,1,474,0,2,498,0,4,502,0,4,545,0,2,547,0,96,566,0,3,567,0,1,584,0,1,585,0,1,603,0,1,627],[0,1,2,0,1,6,0,1,9,0,1,10,0,1,15,0,1,19,0,5,22,0,1,32,0,2,37,0,1,47,0,1,53,0,1,58,0,37,59,10,1,131,0,1,179,0,109,220,0,2,294,0,1,329,0,1,411,0,1,562,0,1,65,0,1,234,0,1,264,0,1,281,0,1,311,0,1,320,0,2,334,14,1,35,0,1,75,0,1,131,0,4,142,0,18,254,0,1,268,0,14,271,0,1,313,0,3,65,0,1,212,0,1,276,0,71,283,0,2,319,0,3,325,0,2,330,0,1,362,0,1,384,0,1,423,0,6,459,56,35,4,0,25,143,0,2,146,0,1,212,0,90,254,0,3,262,0,235,274,0,1,297,0,1,308,0,1,332,0,4,333,0,4,344,0,4,353,0,7,382,0,1,391,0,3,401,0,3,431,0,1357,477,0,2,485,0,155,496,0,2,535,0,21,541,0,1,547,0,1,593,0,1,625,3,4,65,0,1,131,0,1,297,0,1,340,0,2,347,0,1,362,0,27,387,0,3,438,0,3,450,0,1,532,0,1,587,2,25,4,0,1,65,0,3,264,0,2,281,0,2,315,0,2,320,0,22,334,0,53,440,0,1,453,0,1,459,0,1,533,0,1,617,15,11,283,15,2,387,0,2,450,7,1,75,0,1,252,0,1,428,0,1,467,0,90,567,0,1,580,6,1,377],[0,1,3,0,1,7,1,1,11,0,1,16,0,1,20,0,5,23,0,1,33,0,2,22,0,1,22,0,1,22,0,1,2,0,37,60,12,109,221,0,1,306,0,1,413,4,1,235,0,1,236,2,1,321,0,1,131,0,1,337,14,1,270,2,4,143,0,18,255,0,1,278,0,14,272,6,11,131,0,1,151,0,1,202,0,2,225,0,12,272,0,3,284,0,2,286,0,1,329,0,2,333,0,4,383,0,2,491,0,8,493,0,1,502,0,18,514,0,1,560,0,2,573,11,1,262,0,1,382,0,1,431,0,1,535,0,1,542,56,15,4,0,9,417,0,1,421,0,1,448,0,1,479,0,1,482,0,1,526,0,1,534,0,1,565,0,1,569,0,3,571,0,18,4,0,5,267,0,1,429,0,1,487,3,1,65,0,1,131,0,70,255,0,2,329,0,3,380,0,1,427,0,1,433,0,11,485,0,2,262,0,1,492,0,2,131,0,229,337,0,2,385,0,2,399,1,1,340,0,1,151,4,1,345,0,1,383,0,1,433,0,1,491,0,3,354,0,1,406,8,3,407,13,1,179,0,4,246,0,3,356,0,1335,391,0,3,447,0,1,536,7,2,65,0,148,485,3,15,268,0,1,382,0,2,554,0,2,590,16,1,88,0,1,131,0,24,337,0,1,457,3,1,329,0,1,362,0,1,438,5,2,65,0,5,376,0,17,418,1,2,131,0,1,315,4,1,65,0,1,80,0,1,202,0,1,225,0,1,325,0,1,329,0,16,337,0,1,383,0,1,553,3,49,315,0,1,457,0,1,179,0,1,418,0,1,131,0,1,356,15,2,151,0,3,272,0,1,333,0,1,493,0,3,514,0,1,518,15,1,311,0,1,337,0,1,225,0,1,438,13,23,4,0,1,65,0,5,97,0,2,241,0,1,294,0,1,297,0,1,397,0,1,428,0,1,441,0,1,459,0,36,467,0,1,483,0,2,580,0,1,581,0,6,582,0,1,588,0,3,594,0,1,597,7,1,628],[1,1,2,1,1,7,0,1,17,1,2,24,0,1,44,0,1,50,0,1,51,0,1,34,0,2,23,0,1,23,0,1,23,0,1,3,0,37,61,12,15,97,0,2,131,0,9,222,0,1,225,0,23,226,0,15,240,0,1,242,0,2,302,0,1,314,0,4,324,0,1,349,0,2,371,0,2,393,0,3,397,0,1,441,0,27,466,6,1,236,0,1,265,2,1,311,1,1,327,17,4,267,0,1,151,0,16,256,0,1,325,1,14,273,21,1,131,0,4,273,0,6,363,0,1,464,0,1,131,0,2,285,13,3,353,0,2,382,0,1,593,5,1,246,0,7,337,0,1,447,0,2,515,0,3,573,14,1,263,3,1,491,56,1,131,0,5,271,0,9,570,20,18,268,0,1,4,0,1,144,0,1,359,0,2,425,7,1,65,0,1,212,0,58,256,0,1,435,0,9,470,7,1,179,0,4,337,0,6,480,5,1,65,0,11,275,0,1,356,0,216,391,3,1,447,41,1,247,0,2,444,4,1206,4,0,17,268,0,88,276,0,23,351,20,1,65,0,30,337,0,4,356,0,1,361,0,2,435,0,102,480,0,1,568,3,1,29,0,1,102,0,1,239,0,1,268,0,1,269,0,1,402,0,1,432,0,2,451,0,1,472,0,1,486,0,1,512,0,1,578,0,1,586,0,1,624,24,1,327,0,1,329,0,1,356,0,19,418,0,1,444,14,1,316,0,3,449,0,1,498,3,9,4,0,1,179,0,4,527,3,1,143,10,1,333,0,3,376,0,11,418,0,1,437,16,7,143,0,13,405,0,1,498,0,1,514,0,16,541,2,1,4,19,3,363,1,1,353,0,1,296,0,1,337,0,1,515,17,1,418,16,11,4,0,1,101,0,1,276,0,2,277,0,2,357,0,1,445,0,1,479,0,1,579,0,1,609,0,1,626,1,1,65,0,2,294,0,1,576,0,1,592,0,1,225,0,1,572,0,1,598,1,1,398,2,1,4,0,34,4,0,1,225,0,1,441,0,1,574,2,1,4,1,1,65,0,1,116,0,1,348,0,1,356,0,1,605,1,1,251,0,2,441,8,1,629],[1,1,8,1,1,12,0,1,18,1,2,22,0,1,45,0,1,2,0,1,52,0,1,35,0,2,38,0,1,48,0,1,54,1,37,62,12,1,74,0,5,98,0,1,303,0,2,333,0,5,367,0,1,488,2,1,223,0,1,225,0,4,242,0,1,251,0,1,258,0,1,337,1,22,227,0,1,455,0,15,241,0,1,65,0,1,252,0,1,394,1,1,179,0,1,428,0,1,430,0,1,483,1,2,277,0,1,294,0,1,383,0,1,398,0,1,519,0,1,555,0,1,246,0,4,4,0,22,467,0,1,508,6,1,237,0,1,266,4,1,338,17,4,144,1,14,257,0,1,311,0,1,326,2,1,65,0,13,274,22,3,274,0,1,322,1,1,246,0,2,296,0,1,438,0,1,458,0,1,465,1,1,286,0,1,310,13,3,353,8,1,247,0,1,438,0,6,458,1,2,531,1,1,246,0,1,447,76,4,272,0,1,514,1,1,65,0,7,364,20,1,4,0,3,280,0,1,335,0,1,358,0,1,369,0,1,400,0,1,412,0,2,432,0,1,472,0,2,494,0,1,511,0,1,512,0,1,516,0,1,517,0,1,145,0,1,145,12,50,257,0,4,326,0,1,333,0,1,361,0,1,362,0,1,372,0,1,151,0,6,259,0,2,337,0,1,480,8,4,418,0,5,315,0,1,405,6,1,131,0,9,276,0,1,351,4,194,4,0,3,268,0,14,276,0,2,351,46,1,509,0,1,563,4,88,4,0,1108,392,0,2,448,0,2,530,0,4,558,0,2,564,0,1,252,0,13,277,0,1,400,0,2,522,0,86,268,0,1,333,0,1,446,0,1,4,0,4,252,0,1,277,0,1,404,0,2,415,0,4,478,0,1,500,0,1,522,0,1,540,0,1,548,0,4,552,0,1,608,0,1,614,21,7,4,0,2,65,0,2,179,0,1,333,0,1,356,0,12,418,0,5,568,4,1,309,0,1,131,0,1,289,2,1,297,0,98,315,0,1,356,43,1,388,2,17,388,0,1,438,0,1,461,0,1,8,16,1,4,0,1,294,4,1,362,0,1,442,0,7,615,1,1,297,0,2,528,0,1,621,3,1,267,11,1,329,0,1,377,0,1,449,0,9,4,0,1,527,0,1,551,0,1,294,16,5,4,0,2,267,1,5,4,0,1,278,0,6,294,2,16,268,2,1,449,20,1,260,0,1,438,1,1,406,0,1,362,1,1,378,17,1,388,16,8,606,0,2,607,0,1,612,0,1,101,12,1,294,0,1,598,0,1,577,8,1,606,1,33,268,5,1,400,2,1,554,0,1,65,1,1,201,1,1,595,0,1,447,0,1,600,8,1,531],[3,1,13,2,2,23,0,1,46,0,1,3,0,1,2,0,1,36,0,2,22,0,1,49,0,1,55,1,37,63,12,1,75,0,4,99,0,1,491,0,1,131,2,1,65,0,2,368,0,1,384,0,1,538,0,1,362,2,1,224,1,3,136,0,1,243,0,1,131,0,1,286,2,22,228,1,5,116,0,2,131,0,3,304,0,1,348,0,1,441,0,1,506,0,2,513,7,1,483,3,1,295,4,1,557,0,1,269,0,1,277,0,1,432,0,1,479,0,18,4,0,2,115,0,2,508,7,1,238,0,1,142,4,1,339,17,4,145,1,14,258,1,1,258,3,1,65,0,11,258,0,1,298,22,1,296,0,1,298,0,1,337,3,1,225,0,1,484,1,1,475,32,1,337,0,3,475,2,1,536,1,1,247,77,4,363,0,1,453,2,1,333,0,6,453,38,1,268,0,1,268,12,1,258,0,49,337,0,3,4,0,1,337,1,1,362,3,1,329,0,5,365,0,2,4,0,1,315,8,3,4,0,1,438,1,2,143,0,1,287,0,1,337,8,9,268,0,1,352,4,16,4,0,178,392,0,2,277,0,1,400,0,14,268,0,1,439,0,1,452,1275,1,4,0,1,8,0,1,13,0,1,29,0,1,102,0,1,268,0,2,269,0,1,276,0,17,277,0,1,301,0,3,335,0,11,357,0,8,358,0,4,369,0,1,370,0,2,396,0,2,412,0,2,415,0,2,432,0,1,445,0,3,460,0,1,469,0,1,476,0,1,490,0,4,494,0,2,495,0,2,537,0,1,539,0,1,546,0,1,561,0,1,569,0,1,586,0,1,591,0,1,602,0,1,620,0,1,623,46,7,4,1,1,418,4,11,4,0,1,316,0,4,4,0,1,589,6,1,225,11,2,143,0,9,238,0,2,297,0,1,312,0,1,316,0,31,337,0,22,405,0,2,458,0,5,504,0,14,541,0,1,583,44,1,265,2,14,419,0,2,541,0,1,604,19,1,526,0,1,598,5,1,294,0,7,4,2,1,501,0,1,618,4,1,144,12,1,378,1,3,131,0,1,362,0,4,442,0,1,449,0,1,528,1,1,295,16,5,268,0,2,4,1,1,277,0,1,454,0,1,499,0,1,507,0,1,521,1,1,294,0,1,306,0,3,575,0,1,598,2,1,268,0,3,269,0,1,280,0,1,301,0,1,335,0,1,336,0,3,357,0,1,494,0,2,578,0,1,586,0,1,622,23,1,426,23,1,419,53,4,335,0,1,336,0,11,357,0,4,358,0,1,369,0,1,400,0,3,412,0,2,469,0,1,486,0,1,503,0,1,516,0,1,537,0,1,556,0,1,611,13,1,596,1,1,601,8,1,447],[6,1,25,0,1,30,2,1,8,1,2,23,1,1,56,1,37,64,13,1,120,0,1,225,0,2,395,5,1,286,0,1,463,5,1,225,1,3,137,0,1,244,4,2,131,0,20,229,1,1,65,0,2,117,0,1,248,0,1,513,2,1,131,0,2,305,0,1,286,1,1,347,23,18,268,0,2,116,0,1,225,0,1,444,7,1,239,0,1,143,4,1,131,17,4,268,1,14,259,1,1,327,4,1,88,0,1,179,0,9,275,0,1,318,22,1,131,0,1,131,0,1,260,6,1,4,33,3,4,82,1,65,0,3,364,0,1,315,3,6,315,38,1,269,0,1,403,12,1,259,0,49,259,0,3,337,0,1,327,6,4,315,0,1,457,0,2,4,0,1,405,8,3,4,2,2,4,0,1,286,0,1,179,8,1,269,0,2,277,0,2,357,0,1,358,0,1,369,0,1,370,0,1,386,202,1,102,0,1,269,0,3,277,0,3,335,0,1,369,0,1,402,0,1,412,0,1,415,0,1,432,0,1,451,1409,5,292,0,2,473,6,5,4,0,1,297,0,1,314,0,1,372,0,1,525,0,1,544,0,1,610,1,1,381,0,1,415,0,1,479,0,1,534,19,1,4,0,1,329,0,3,238,0,1,239,0,3,252,0,1,574,0,1,613,2,1,131,3,1,179,0,1,276,0,1,356,0,26,458,1,13,4,0,7,294,0,1,297,2,1,65,0,4,505,0,13,268,0,1,549,0,1,246,44,1,266,2,4,4,0,1,65,0,3,143,0,1,278,0,5,541,29,1,462,0,1,369,0,2,479,0,4,616,3,1,326,4,1,366,18,3,131,0,1,294,1,1,384,18,1,269,0,1,396,0,1,402,0,2,451,0,2,145,78,1,541],[6,1,26,0,1,17,4,1,39,0,1,41,3,1,65,0,36,66,13,1,510,1,2,101,14,2,131,0,1,390,0,1,245,6,1,131,0,13,142,0,5,230,0,1,443,2,2,118,0,1,20,4,1,294,0,1,333,26,1,335,0,1,336,0,9,357,0,2,358,0,1,468,0,1,469,0,2,503,0,1,556,0,1,117,0,1,248,1,1,563,8,1,267,22,1,269,0,1,279,0,1,280,0,1,301,1,13,235,0,1,314,1,1,328,6,1,131,0,1,268,0,7,276,25,1,261,6,1,489,33,2,417,0,1,479,83,2,320,0,1,453,0,1,238,5,3,238,0,1,583,52,1,235,0,1,65,0,2,131,0,5,235,0,35,365,0,5,409,0,1,423,0,2,4,0,1,356,0,1,4,6,1,143,0,1,287,0,2,337,1,1,292,0,1,473,0,1,294,8,3,341,2,2,268,1644,1,325,0,1,329,0,1,471,0,2,475,0,1,344,0,1,538,6,5,341,4,1,356,0,1,342,24,1,382,26,1,262,0,1,337,0,16,475,0,1,523,1,1,448,0,1,454,0,1,482,0,2,499,0,1,507,0,2,520,0,2,521,0,1,534,0,1,550,0,1,559,0,1,252,0,1,295,0,1,306,0,1,413,0,1,422,0,2,575,4,1,131,0,2,333,0,1,599,0,1,269,0,1,300,0,1,335,0,1,357,0,1,358,0,1,432,0,2,434,0,1,445,0,1,451,0,1,490,0,2,494,46,1,131,2,1,448,0,1,454,0,1,521,0,1,619,1,2,4,0,1,267,2,4,268,40,1,337,26,1,413,25,2,268,78,1,268],[6,1,27,0,1,31,4,1,40,0,1,42,4,8,67,0,28,68,15,1,101,0,1,396,16,1,345,0,1,246,7,1,65,0,12,143,0,5,115,0,1,444,2,1,65,0,1,119,5,1,306,45,1,118,0,1,335,10,1,144,27,8,236,0,5,315,2,1,329,7,1,277,0,7,268,25,1,288,126,1,131,0,1,365,1,1,252,5,2,252,0,1,436,0,1,536,52,1,315,3,5,315,0,1,297,0,34,315,0,1,65,0,4,410,1,2,4,1,1,4,6,1,4,0,1,131,0,2,458,1,1,475,0,1,4,0,1,481,8,1,333,0,2,337,2,1,432,0,1,486,1647,2,4,0,1,501,7,1,131,0,1,319,0,2,337,0,1,383,5,1,343,51,1,262,0,1,356,1,15,4,29,1,225,67,2,268,0,1,4,2,1,268,0,1,269,0,2,460,40,1,418,52,1,269,0,1,456,78,1,546],[6,1,28,6,1,43,4,5,68,0,1,96,0,2,103,0,28,69,34,1,247,8,12,267,0,2,116,0,2,231,0,1,350,0,1,445,3,1,225,51,1,316,11,1,145,27,1,131,0,1,225,0,4,258,0,1,287,0,1,312,0,1,143,0,2,258,0,2,316,11,6,277,0,1,300,25,1,65,127,1,65,63,1,258,4,1,238,0,3,337,3,1,65,0,6,143,0,3,238,0,1,287,0,1,316,0,11,337,0,2,374,0,7,405,1,1,131,0,1,179,0,1,356,0,1,411,1,2,292,1,1,341,6,1,268,1,2,293,1,1,4,0,1,145,10,2,342,1651,1,479,0,1,524,10,2,342,6,1,544,54,4,417,0,1,421,0,2,472,0,1,482,0,1,497,0,1,507,0,1,529,0,2,534,0,1,543,0,1,565,97,1,451,0,1,460,0,1,145,46,1,4],[6,1,29,11,5,69,0,1,97,0,2,4,0,28,60,43,6,4,0,6,144,0,2,248,0,1,117,0,1,232,69,1,268,29,4,260,0,1,131,0,1,131,0,1,267,0,2,260,237,1,260,4,1,252,0,3,260,4,5,267,0,1,459,0,1,239,0,1,424,0,1,436,0,1,131,1,9,260,0,2,458,0,1,313,0,1,375,0,3,4,0,3,294,0,1,446,6,2,293,1,1,337,6,1,268,1,1,294,0,1,471,1,1,476,0,1,4,10,1,20,0,1,343,1663,1,343,0,1,438,6,1,356,168,1,268,46,1,362],[18,5,60,0,1,98,0,2,104,0,28,61,43,6,145,0,6,145,0,2,249,0,1,118,0,1,131,69,1,269,29,4,261,2,1,323,0,1,261,0,1,317,237,1,261,5,3,261,4,3,4,0,2,144,0,1,268,5,1,65,0,6,261,0,1,333,0,1,385,0,2,293,2,1,277,0,1,406,0,1,448,0,2,252,0,1,422,7,1,225,0,1,294,1,1,342,8,1,462,15,1,131,1663,1,544,176,1,269],[18,5,61,0,1,99,0,1,105,0,1,106,0,28,62,43,6,268,0,6,268,0,2,250,0,1,119,100,1,202,0,1,262,0,1,288,0,1,307,3,1,288,0,1,258,237,1,288,5,1,286,0,2,288,4,3,145,0,2,145,0,1,460,6,1,65,0,1,286,0,4,288,2,1,131,0,1,329,16,1,462,1,1,343],[18,5,62,0,1,100,1,1,107,0,27,63,0,1,122,43,2,357,0,3,358,0,1,370,0,1,335,0,2,336,0,3,357,0,1,179,0,1,356,0,1,120,101,1,263,0,1,289,0,1,308,3,1,289,0,1,286,237,1,289,6,2,289,4,3,268,0,1,379,0,1,382,9,1,65,0,2,289,0,1,373,22,1,338],[18,5,63,0,1,101,1,1,108,0,27,64,0,1,123,57,1,389,102,1,290,0,1,309,3,1,290,238,1,290,6,1,131,0,1,290,4,1,370,0,1,415,0,1,434,12,1,290,0,1,416,23,1,339],[18,5,64,0,1,102,1,1,109,0,27,124,161,1,291,4,1,291,238,1,291,7,1,291,19,1,380,0,1,4,23,1,179],[18,5,70,2,1,110,0,26,68,0,1,215,161,1,292,4,1,292,238,1,333,7,1,292,19,1,4,0,1,417],[18,4,68,0,1,92,2,1,111,0,26,69,0,1,216,161,1,293,4,1,293,246,1,293,19,1,381],[18,4,69,0,1,93,2,1,112,0,26,60,0,1,217,161,1,294,4,1,225,246,1,131],[18,4,60,0,1,10,2,1,113,0,26,61,0,1,218,161,1,295],[18,4,61,0,1,94,2,1,114,0,26,62],[18,4,62,0,1,10,2,1,115,0,26,63],[18,4,63,0,1,95,2,1,116,0,26,64],[18,4,64,0,1,2,2,1,117,0,25,125,0,1,213],[18,4,71,0,1,3,2,1,118,0,25,68,0,1,68],[18,4,68,3,1,119,0,25,69,0,1,69],[18,4,69,3,1,120,0,25,60,0,1,60],[18,4,60,3,1,121,0,25,61,0,1,85],[18,4,61,4,25,62,0,1,214],[18,4,62,4,25,63,0,1,131],[18,4,63,4,25,64],[18,3,64,0,1,72,4,25,126],[18,3,76,0,1,73,4,23,68,0,2,207],[18,3,68,0,1,74,4,23,69,0,2,208],[18,3,69,0,1,75,4,23,60,0,2,68],[18,3,60,5,23,61,0,2,69],[18,3,61,5,23,62,0,2,60],[18,3,62,5,23,63,0,2,61],[18,3,63,5,23,64,0,2,62],[18,3,64,5,17,127,0,5,194,0,1,203,0,2,63],[18,3,77,5,17,68,0,5,68,0,1,68,0,2,64],[18,3,68,5,17,69,0,5,69,0,1,69,0,2,209],[18,3,69,5,17,60,0,5,60,0,1,60,0,2,68],[18,3,60,5,17,61,0,4,61,0,1,85,0,1,61,0,2,69],[18,3,61,5,17,62,0,4,62,0,1,86,0,1,62,0,2,60],[18,3,62,5,17,63,0,4,63,0,1,177,0,1,63,0,1,61,0,1,85],[18,3,63,5,17,64,0,4,64,0,1,154,0,1,72,0,1,62,0,1,86],[18,3,64,5,5,128,0,1,147,0,1,152,0,10,158,0,4,195,0,1,155,0,1,204,0,1,63,0,1,177],[18,1,78,0,2,81,5,4,68,0,1,139,0,1,68,0,1,68,0,9,68,0,1,191,0,4,68,0,1,156,0,1,205,0,1,64,0,1,154],[18,1,68,0,2,68,5,4,69,0,1,140,0,1,69,0,1,69,0,9,69,0,1,192,0,4,69,0,1,178,0,1,206,0,1,210,0,1,155],[18,1,69,0,2,69,5,4,60,0,1,17,0,1,60,0,1,60,0,9,60,0,1,193,0,4,60,0,1,202,1,1,68,0,1,156],[18,1,60,0,2,60,5,4,61,0,1,8,0,1,61,0,1,85,0,8,61,0,1,85,1,4,61,2,1,69,0,1,74],[18,1,22,0,2,61,5,4,62,1,1,62,0,1,86,0,8,62,0,1,86,1,4,62,2,1,60,0,1,75],[18,1,23,0,2,62,5,4,63,1,1,63,0,1,153,0,8,63,0,1,177,1,4,63,2,1,61],[18,1,79,0,2,63,5,3,64,0,1,72,1,1,64,0,1,154,0,8,64,0,1,154,1,4,64,2,1,62],[18,1,80,0,2,64,5,3,129,0,1,141,1,1,148,0,1,155,0,1,159,0,7,160,0,1,155,1,4,196,2,1,63],[19,2,82,5,3,68,0,1,142,1,1,68,0,1,156,0,1,20,0,7,68,0,1,156,1,3,68,0,1,199,2,1,64],[19,2,68,5,3,69,0,1,143,1,1,69,0,1,157,1,7,69,0,1,189,1,3,69,0,1,10,2,1,211],[19,2,69,5,3,60,0,1,144,1,1,60,2,7,60,0,1,190,1,3,60,0,1,200,2,1,68],[19,2,60,5,3,61,0,1,145,1,1,61,2,6,61,0,1,85,2,3,61,0,1,201,2,1,69],[19,2,61,5,3,62,0,1,146,1,1,62,2,6,62,0,1,86,2,3,62,3,1,60],[19,2,62,5,3,63,2,1,63,2,6,63,0,1,177,2,3,63,3,1,85],[19,2,63,5,3,64,2,1,64,2,6,64,0,1,154,2,3,64,3,1,86],[19,2,64,5,3,130,2,1,149,2,2,161,0,1,172,0,3,180,0,1,155,2,3,197,3,1,58],[19,1,83,0,1,89,5,2,68,0,1,135,2,1,68,2,1,68,0,1,166,0,1,68,0,1,68,0,1,184,0,1,187,0,1,156,2,3,68,3,1,212],[19,1,68,0,1,68,5,2,69,0,1,136,2,1,69,2,1,69,0,1,10,0,1,69,0,1,69,0,1,185,0,1,188,0,1,178,2,3,69],[19,1,69,0,1,69,5,2,60,0,1,137,2,1,60,2,1,60,0,1,167,0,1,60,0,1,60,0,1,186,0,1,170,0,1,179,2,3,60],[19,1,60,0,1,60,5,1,61,0,1,85,0,1,42,2,1,61,2,1,61,0,1,168,0,1,22,0,1,61,1,1,8,3,3,61],[19,1,61,0,1,85,5,1,62,0,1,90,0,1,138,2,1,62,2,1,62,0,1,169,0,1,23,0,1,62,5,3,62],[19,1,62,0,1,90,5,1,63,0,1,131,3,1,63,2,1,63,0,1,170,0,1,173,0,1,181,5,3,181],[19,1,63,0,1,58,5,1,64,4,1,72,2,1,64,0,1,171,0,1,22,0,1,182,5,3,182],[19,1,64,0,1,91,5,1,132,4,1,141,2,1,162,1,1,23,0,1,183,5,3,198],[19,1,84,6,1,68,4,1,142,2,1,163,1,1,174],[19,1,68,6,1,69,4,1,143,2,1,10,1,1,175],[19,1,69,6,1,60,4,1,150,2,1,164,1,1,120],[19,1,60,6,1,61,4,1,151,2,1,42,1,1,176],[19,1,85,6,1,62,7,1,165],[19,1,86,6,1,63],[19,1,58,6,1,64],[19,1,87,6,1,133],[19,1,88,6,1,2],[26,1,134]];
numTicks = 2669;

let rangeMin = 0;
let rangeMax = 1;
let topLevel = 0;
let query = '';
let graphWidth, pxPerTick;

const pxPerLevel = 18;
const collapseThreshold = 5;
const hideThreshold = 0.5;
const labelThreshold = 20;

highlightEl.style.height = pxPerLevel + 'px';

if (levels) {
    init();
}

function init() {
    document.body.classList.add('loaded');

    // delta-decode bar positions
    for (const level of levels) {
        let prev = 0;
        for (let i = 0; i < level.length; i += 3) {
            level[i] += prev;
            prev = level[i] + level[i + 1];
        }
    }

    updateFromHash();
    render();
}

window.onhashchange = () => {
    updateFromHash();
    render();
};
canvas.onclick = (e) => {
    const {i, j} = xyToBar(e.offsetX, e.offsetY);
    if (j === -1) return;
    window.location.hash = [i, j].join(',');
    removeHover();
};
document.getElementById('reset').onclick = () => {
    searchEl.value = query = '';
    window.location.hash = '';
    render();
};
window.onresize = render;

searchEl.oninput = (e) => {
    query = e.target.value;
    render();
};

function updateFromHash() {
    const [i, j] = window.location.hash.substr(1).split(',').map(Number);

    if (!isNaN(i) && !isNaN(j)) {
        topLevel = i;
        rangeMin = levels[i][j] / numTicks;
        rangeMax = (levels[i][j] + levels[i][j + 1]) / numTicks;
    } else {
        topLevel = 0;
        rangeMin = 0;
        rangeMax = 1;
    }
}

function tickToX(i) {
    return (i - numTicks * rangeMin) * pxPerTick;
}

function render() {
    if (!levels) return;

    graphWidth = canvas.width = canvas.clientWidth;
    canvas.height = pxPerLevel * (levels.length - topLevel);
    canvas.style.height = canvas.height + 'px';

    if (devicePixelRatio > 1) {
        canvas.width *= 2;
        canvas.height *= 2;
        ctx.scale(2, 2);
    }

    pxPerTick = graphWidth / numTicks / (rangeMax - rangeMin);

    ctx.textBaseline = 'middle';
    ctx.font = '10px Tahoma, sans-serif';
    ctx.strokeStyle = 'white';

    for (let i = 0; i < levels.length - topLevel; i++) {
        const level = levels[topLevel + i];

        for (let j = 0; j < level.length; j += 3) {
            const barIndex = level[j];
            const x = tickToX(barIndex);
            const y = i * pxPerLevel;
            let numBarTicks = level[j + 1];

            const inQuery = query && (names[level[j + 2]].indexOf(query) >= 0) || false;

            // merge very small blocks into big "collapsed" ones for performance
            const collapsed = numBarTicks * pxPerTick <= collapseThreshold;
            if (collapsed) {
                while (
                    j < level.length - 3 &&
                    barIndex + numBarTicks === level[j + 3] &&
                    level[j + 4] * pxPerTick <= collapseThreshold &&
                    (inQuery === (query && (names[level[j + 5]].indexOf(query) >= 0) || false))
                ) {
                    j += 3;
                    numBarTicks += level[j + 1];
                }
            }

            const sw = numBarTicks * pxPerTick - (collapsed ? 0 : 0.5);
            const sh = pxPerLevel - 0.5;

            if (x < -1 || x + sw > graphWidth + 1 || sw < hideThreshold) continue;

            ctx.beginPath();
            ctx.rect(x, y, sw, sh);

            const ratio = numBarTicks / numTicks;

            if (!collapsed) {
                ctx.stroke();
                const intensity = Math.min(1, ratio * Math.pow(1.16, i) / (rangeMax - rangeMin));
                const h = 50 - 50 * intensity;
                const l = 65 + 7 * intensity;
                ctx.fillStyle = inQuery ? 'lightgreen' : `hsl(${h}, 100%, ${l}%)`;
            } else {
                ctx.fillStyle = inQuery ? 'lightgreen' : '#eee';
            }
            ctx.fill();

            if (!collapsed && sw >= labelThreshold) {

                const percent = Math.round(10000 * ratio) / 100;
                const name = `${names[level[j + 2]]} (${percent}%, ${numBarTicks} samples)`;

                ctx.save();
                ctx.clip();
                ctx.fillStyle = 'black';
                ctx.fillText(name, Math.max(x, 0) + 1, y + sh / 2);
                ctx.restore();
            }
        }
    }
}

// pixel coordinates to bar coordinates in the levels array
function xyToBar(x, y) {
    const i = Math.floor(y / pxPerLevel) + topLevel;
    const j = binarySearchLevel(x, levels[i]);
    return {i, j};
}

// binary search of a block in a stack level
function binarySearchLevel(x, level) {
    let i = 0;
    let j = level.length - 3;
    while (i <= j) {
        const m = 3 * ((i / 3 + j / 3) >> 1);
        const x0 = tickToX(level[m]);
        const x1 = tickToX(level[m] + level[m + 1]);
        if (x0 <= x && x1 >= x) {
            return x1 - x0 > collapseThreshold ? m : -1;
        }
        if (x0 > x) {
            j = m - 3;
        } else {
            i = m + 3;
        }
    }
    return -1;
}

if (window.orientation === undefined) {
    canvas.onmousemove = addHover;
    canvas.onmouseout = window.onscroll = removeHover;
}

function removeHover() {
    canvas.style.cursor = '';
    highlightEl.style.display = 'none';
    tooltipEl.style.display = 'none';
}

function addHover(e) {
    const {i, j} = xyToBar(e.offsetX, e.offsetY);

    if (j === -1 || e.offsetX < 0 || e.offsetX > graphWidth) {
        removeHover();
        return;
    }

    canvas.style.cursor = 'pointer';

    const level = levels[i];
    const x = tickToX(level[j]);
    const y = (i - topLevel) * pxPerLevel;
    const sw = tickToX(level[j] + level[j + 1]) - x;

    highlightEl.style.display = 'block';
    highlightEl.style.left = x + 'px';
    highlightEl.style.top = (canvas.offsetTop + y) + 'px';
    highlightEl.style.width = sw + 'px';

    const numBarTicks = level[j + 1];
    const percent = Math.round(10000 * numBarTicks / numTicks) / 100;
    const time = `<span class="time">(${percent}%, ${numBarTicks} samples)</span>`;
    let content = names[level[j + 2]];
    if (content[0] !== '(') content = content.replace(' ', ` ${time}<br><span class="path">`) + '</span>';
    else content += ` ${time}`;

    tooltipEl.innerHTML = content;
    tooltipEl.style.display = 'block';
    tooltipEl.style.left = (Math.min(e.offsetX + 15 + tooltipEl.clientWidth, graphWidth) - tooltipEl.clientWidth) + 'px';
    tooltipEl.style.top = (canvas.offsetTop + e.offsetY + 12) + 'px';
}

// (function frame() { if (levels) render(); requestAnimationFrame(frame); })();


</script>
</body>
</html>
