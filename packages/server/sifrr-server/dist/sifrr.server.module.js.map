{"version":3,"file":"sifrr.server.module.js","sources":["../src/server/utils.js","../src/server/ext.js","../src/server/sendfile.js","../src/server/baseapp.js","../src/server/app.js","../src/server/sslapp.js","../src/sifrr.server.js"],"sourcesContent":["function writeHeaders(res, headers, other) {\n  if (typeof other !== 'undefined') {\n    res.writeHeader(headers, other.toString());\n  } else {\n    for (let n in headers) {\n      res.writeHeader(n, headers[n].toString());\n    }\n  }\n}\n\nfunction extend(who, from) {\n  const ownProps = Object.getOwnPropertyNames(from.prototype);\n  ownProps.forEach(prop => {\n    who[prop] = who[prop] || from.prototype[prop].bind(who);\n  });\n}\n\nmodule.exports = {\n  writeHeaders,\n  extend\n};\n","const extensions = {\n  '3gp' : 'video/3gpp',\n  a     : 'application/octet-stream',\n  ai    : 'application/postscript',\n  aif   : 'audio/x-aiff',\n  aiff  : 'audio/x-aiff',\n  asc   : 'application/pgp-signature',\n  asf   : 'video/x-ms-asf',\n  asm   : 'text/x-asm',\n  asx   : 'video/x-ms-asf',\n  atom  : 'application/atom+xml',\n  au    : 'audio/basic',\n  avi   : 'video/x-msvideo',\n  bat   : 'application/x-msdownload',\n  bin   : 'application/octet-stream',\n  bmp   : 'image/bmp',\n  bz2   : 'application/x-bzip2',\n  c     : 'text/x-c',\n  cab   : 'application/vnd.ms-cab-compressed',\n  cc    : 'text/x-c',\n  chm   : 'application/vnd.ms-htmlhelp',\n  class : 'application/octet-stream',\n  com   : 'application/x-msdownload',\n  conf  : 'text/plain',\n  cpp   : 'text/x-c',\n  crt   : 'application/x-x509-ca-cert',\n  css   : 'text/css',\n  csv   : 'text/csv',\n  cxx   : 'text/x-c',\n  deb   : 'application/x-debian-package',\n  der   : 'application/x-x509-ca-cert',\n  diff  : 'text/x-diff',\n  djv   : 'image/vnd.djvu',\n  djvu  : 'image/vnd.djvu',\n  dll   : 'application/x-msdownload',\n  dmg   : 'application/octet-stream',\n  doc   : 'application/msword',\n  dot   : 'application/msword',\n  dtd   : 'application/xml-dtd',\n  dvi   : 'application/x-dvi',\n  ear   : 'application/java-archive',\n  eml   : 'message/rfc822',\n  eps   : 'application/postscript',\n  exe   : 'application/x-msdownload',\n  f     : 'text/x-fortran',\n  f77   : 'text/x-fortran',\n  f90   : 'text/x-fortran',\n  flv   : 'video/x-flv',\n  for   : 'text/x-fortran',\n  gem   : 'application/octet-stream',\n  gemspec: 'text/x-script.ruby',\n  gif   : 'image/gif',\n  gz    : 'application/x-gzip',\n  h     : 'text/x-c',\n  hh    : 'text/x-c',\n  htm   : 'text/html',\n  html  : 'text/html',\n  ico   : 'image/vnd.microsoft.icon',\n  ics   : 'text/calendar',\n  ifb   : 'text/calendar',\n  iso   : 'application/octet-stream',\n  jar   : 'application/java-archive',\n  java  : 'text/x-java-source',\n  jnlp  : 'application/x-java-jnlp-file',\n  jpeg  : 'image/jpeg',\n  jpg   : 'image/jpeg',\n  js    : 'application/javascript',\n  json  : 'application/json',\n  log   : 'text/plain',\n  m3u   : 'audio/x-mpegurl',\n  m4v   : 'video/mp4',\n  man   : 'text/troff',\n  mathml: 'application/mathml+xml',\n  mbox  : 'application/mbox',\n  mdoc  : 'text/troff',\n  me    : 'text/troff',\n  mid   : 'audio/midi',\n  midi  : 'audio/midi',\n  mime  : 'message/rfc822',\n  mml   : 'application/mathml+xml',\n  mng   : 'video/x-mng',\n  mov   : 'video/quicktime',\n  mp3   : 'audio/mpeg',\n  mp4   : 'video/mp4',\n  mp4v  : 'video/mp4',\n  mpeg  : 'video/mpeg',\n  mpg   : 'video/mpeg',\n  ms    : 'text/troff',\n  msi   : 'application/x-msdownload',\n  odp   : 'application/vnd.oasis.opendocument.presentation',\n  ods   : 'application/vnd.oasis.opendocument.spreadsheet',\n  odt   : 'application/vnd.oasis.opendocument.text',\n  ogg   : 'application/ogg',\n  p     : 'text/x-pascal',\n  pas   : 'text/x-pascal',\n  pbm   : 'image/x-portable-bitmap',\n  pdf   : 'application/pdf',\n  pem   : 'application/x-x509-ca-cert',\n  pgm   : 'image/x-portable-graymap',\n  pgp   : 'application/pgp-encrypted',\n  pkg   : 'application/octet-stream',\n  pl    : 'text/x-script.perl',\n  pm    : 'text/x-script.perl-module',\n  png   : 'image/png',\n  pnm   : 'image/x-portable-anymap',\n  ppm   : 'image/x-portable-pixmap',\n  pps   : 'application/vnd.ms-powerpoint',\n  ppt   : 'application/vnd.ms-powerpoint',\n  ps    : 'application/postscript',\n  psd   : 'image/vnd.adobe.photoshop',\n  py    : 'text/x-script.python',\n  qt    : 'video/quicktime',\n  ra    : 'audio/x-pn-realaudio',\n  rake  : 'text/x-script.ruby',\n  ram   : 'audio/x-pn-realaudio',\n  rar   : 'application/x-rar-compressed',\n  rb    : 'text/x-script.ruby',\n  rdf   : 'application/rdf+xml',\n  roff  : 'text/troff',\n  rpm   : 'application/x-redhat-package-manager',\n  rss   : 'application/rss+xml',\n  rtf   : 'application/rtf',\n  ru    : 'text/x-script.ruby',\n  s     : 'text/x-asm',\n  sgm   : 'text/sgml',\n  sgml  : 'text/sgml',\n  sh    : 'application/x-sh',\n  sig   : 'application/pgp-signature',\n  snd   : 'audio/basic',\n  so    : 'application/octet-stream',\n  svg   : 'image/svg+xml',\n  svgz  : 'image/svg+xml',\n  swf   : 'application/x-shockwave-flash',\n  t     : 'text/troff',\n  tar   : 'application/x-tar',\n  tbz   : 'application/x-bzip-compressed-tar',\n  tcl   : 'application/x-tcl',\n  tex   : 'application/x-tex',\n  texi  : 'application/x-texinfo',\n  texinfo: 'application/x-texinfo',\n  text  : 'text/plain',\n  tif   : 'image/tiff',\n  tiff  : 'image/tiff',\n  torrent: 'application/x-bittorrent',\n  tr    : 'text/troff',\n  txt   : 'text/plain',\n  vcf   : 'text/x-vcard',\n  vcs   : 'text/x-vcalendar',\n  vrml  : 'model/vrml',\n  war   : 'application/java-archive',\n  wav   : 'audio/x-wav',\n  wma   : 'audio/x-ms-wma',\n  wmv   : 'video/x-ms-wmv',\n  wmx   : 'video/x-ms-wmx',\n  wrl   : 'model/vrml',\n  wsdl  : 'application/wsdl+xml',\n  xbm   : 'image/x-xbitmap',\n  xhtml : 'application/xhtml+xml',\n  xls   : 'application/vnd.ms-excel',\n  xml   : 'application/xml',\n  xpm   : 'image/x-xpixmap',\n  xsl   : 'application/xml',\n  xslt  : 'application/xslt+xml',\n  yaml  : 'text/yaml',\n  yml   : 'text/yaml',\n  zip   : 'application/zip',\n  default: 'text/html'\n};\nmodule.exports = {\n  getExt: (path) => {\n    const i = path.lastIndexOf('.');\n    return extensions[path.substr(i + 1).toLowerCase()] || extensions['default'];\n  },\n  extensions\n};\n","const fs = require('fs');\n\nconst writeHeaders = require('./utils').writeHeaders;\nconst ext = require('./ext').getExt;\nconst bytes = /bytes=/;\n\nfunction sendFile(res, req, path, lastModified = true, responseHeaders = {}) {\n  const { mtime, size } = fs.statSync(path);\n  const reqHeaders = {\n    'if-modified-since': req.getHeader('if-modified-since'),\n    range: req.getHeader('range')\n  };\n  mtime.setMilliseconds(0);\n\n  // handling last modified\n  if (lastModified) {\n    // Return 304 if last-modified\n    if (reqHeaders['if-modified-since']) {\n      if (new Date(reqHeaders['if-modified-since']) >= mtime) {\n        res.writeStatus('304 Not Modified');\n        return res.end();\n      }\n    }\n\n    responseHeaders['last-modified'] = mtime.toUTCString();\n  }\n\n  responseHeaders['content-type'] = ext(path);\n\n  // write data\n  let start = 0, end = size - 1;\n\n  if (reqHeaders.range) {\n    const parts = reqHeaders.range.replace(bytes, '').split('-');\n    start = parseInt(parts[0], 10);\n    end = parts[1] ? parseInt(parts[1], 10) : end;\n    responseHeaders['content-range'] = `bytes ${start}-${end}/${size}`;\n    responseHeaders['accept-ranges'] = 'bytes';\n    res.writeStatus('206 Partial Content');\n  }\n\n  const src = fs.createReadStream(path, { start, end });\n  res.onAborted(() => src.destroy());\n  writeHeaders(res, responseHeaders);\n  src.on('data', (buffer) => {\n    const chunk = buffer.buffer.slice(buffer.byteOffset, buffer.byteOffset + buffer.byteLength),\n      lastOffset = res.getWriteOffset();\n\n    // First try\n    const [ok, done] = res.tryEnd(chunk, size);\n\n    if (done) {\n      src.destroy();\n    } else if (!ok) {\n      // pause because backpressure\n      src.pause();\n\n      // Save unsent chunk for later\n      res.ab = chunk;\n      res.abOffset = lastOffset;\n\n      // Register async handlers for drainage\n      res.onWritable((offset) => {\n        const [ok, done] = res.tryEnd(res.ab.slice(offset - res.abOffset), size);\n        if (done) {\n          src.destroy();\n        } else if (ok) {\n          src.resume();\n        }\n        return ok;\n      });\n    }\n  })\n    .on('error', res.close)\n    .on('end', () => {\n      res.end();\n    });\n}\n\nmodule.exports = sendFile;","const fs = require('fs');\nconst path = require('path');\nconst uWS = require('uWebSockets.js');\nconst sendFile = require('./sendfile');\n\nconst noOp = () => true;\n\nclass BaseApp {\n  file(folder, options = {}, base = folder) {\n    options.lastModified = options.lastModified !== false;\n\n    // serve single file\n    if (!fs.statSync(folder).isDirectory()) {\n      if (!options.urlPath) throw Error('No urlPath was specified in options for file route: ' + folder);\n      this._staticPaths[options.urlPath] = { filePath: folder, lm: options.lastModified, headers: options.headers };\n      this.get(options.urlPath, this._serveStatic);\n      return this;\n    }\n\n    // serve folder\n    const filter = options.filter || noOp;\n    fs.readdirSync(folder).forEach(file => {\n      // Absolute path\n      const filePath = path.join(folder, file);\n\n      // Return if filtered\n      if (!filter(filePath)) return;\n\n      if (fs.statSync(filePath).isDirectory()) {\n        // Recursive if directory\n        this.file(filePath, options, base);\n      } else {\n        // serve from this folder\n        const url = '/' + path.relative(base, filePath);\n        this._staticPaths[url] = { filePath, lm: options.lastModified, headers: options.headers };\n        this.get(url, this._serveStatic);\n      }\n    });\n    return this;\n  }\n\n  _serveStatic(res, req) {\n    const { filePath, lm, headers } = this._staticPaths[req.getUrl()];\n\n    sendFile(res, req, filePath, lm, headers);\n  }\n\n  listen(h, p = noOp, cb) {\n    if (typeof cb === 'function') {\n      this.listen(h, p, (socket) => {\n        this._socket = socket;\n        cb(socket);\n      });\n    } else {\n      this.listen(h, (socket) => {\n        this._socket = socket;\n        p(socket);\n      });\n    }\n    return this;\n  }\n\n  close() {\n    if (this._socket) {\n      uWS.us_listen_socket_close(this._socket);\n      this._socket = null;\n    }\n  }\n}\n\nmodule.exports = BaseApp;\n","const uWS = require('uWebSockets.js');\nconst BaseApp = require('./baseapp');\nconst { extend } = require('./utils');\n\nclass App extends uWS.App {\n  constructor(options) {\n    super(options);\n    this._staticPaths = {};\n    extend(this, BaseApp);\n  }\n}\n\nmodule.exports = App;\n","const uWS = require('uWebSockets.js');\nconst BaseApp = require('./baseapp');\nconst { extend } = require('./utils');\n\nclass SSLApp extends uWS.App {\n  constructor(options) {\n    super(options);\n    this._staticPaths = {};\n    extend(this, BaseApp);\n  }\n}\n\nmodule.exports = SSLApp;\n","module.exports = {\n  App: require('./server/app'),\n  SSLApp: require('./server/sslapp'),\n  extensions: require('./server/ext').extensions,\n  getExtension: require('./server/ext').getExt,\n  writeHeaders: require('./server/utils').writeHeaders,\n  sendFile: require('./server/sendfile')\n};\n"],"names":["writeHeaders","require$$0","ext","require$$1","sendFile","uWS","extend","BaseApp","require$$2","require$$3","require$$4"],"mappings":"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"}