{"version":3,"file":"sifrr.api.module.js","sources":["../src/api/model.js","../src/api/expresstographql.js","../src/api/loadroutes.js","../../../../node_modules/mkdirp/index.js","../src/api/createschemafrommodels.js","../src/api/reqtographqlargs.js","../src/sifrr.api.js"],"sourcesContent":["const { attributeFields, defaultListArgs, defaultArgs } = require('graphql-sequelize');\nconst { resolver } = require('graphql-sequelize');\nconst Sequelize = require('sequelize');\n\nclass Model extends Sequelize.Model {\n  static init(options) {\n    this.gqAssociations[this.gqName] = {};\n    this.gqQuery[this.gqName] = {};\n    this.gqMutations[this.gqName] = {};\n    this.gqExtraArgs[this.gqName] = {};\n    const ret = super.init(this.schema, options);\n    ret.onInit();\n    return ret;\n  }\n\n  static belongsToMany(model, options) {\n    const name = options.as || model.gqName + 's';\n    this[name] = super.belongsToMany(model, options);\n    this.gqAssociations[this.gqName][name] = { resolver: resolver(this[name]), returnType: `[${model.gqName}]`, model: model };\n    return this[name];\n  }\n\n  static belongsTo(model, options) {\n    const name = options.as || model.gqName;\n    this[name] = super.belongsTo(model, options);\n    this.gqAssociations[this.gqName][name] = { resolver: resolver(this[name]), returnType: model.gqName, model: model };\n    return this[name];\n  }\n\n  static hasMany(model, options) {\n    const name = options.as || model.gqName + 's';\n    this[name] = super.hasMany(model, options);\n    this.gqAssociations[this.gqName][name] = { resolver: resolver(this[name]), returnType: `[${model.gqName}]`, model: model };\n    return this[name];\n  }\n\n  static hasOne(model, options) {\n    const name = options.as || model.gqName;\n    this[name] = super.hasOne(model, options);\n    this.gqAssociations[this.gqName][name] = { resolver: resolver(this[name]), returnType: model.gqName, model: model };\n    return this[name];\n  }\n\n  static addArg(name, options /* = { args, resolver, returnType } */) {\n    // args = 'id:Int, name:String'\n    this.gqExtraArgs[this.gqName][name] = options;\n  }\n\n  static addMutation(name, options /* = { args, resolver, returnType } */) {\n    // args = 'id:Int, name:String'\n    this.gqMutations[this.gqName][name] = options;\n  }\n\n  static addQuery(name, options /* = { args, resolver, returnType } */) {\n    // args = 'id:Int, name:String'\n    this.gqQuery[this.gqName][name] = options;\n  }\n\n  static get gqName() {\n    return this.name;\n  }\n\n  static get gqSchema() {\n    return this.sequelizeToGqSchema();\n  }\n\n  static get gqAttrs() {\n    return attributeFields(this);\n  }\n\n  static get gqArgs() {\n    return Object.assign(defaultArgs(this), defaultListArgs());\n  }\n\n  static get resolvers() {\n    const q = { Query: this.gqQuery[this.gqName], Mutation: this.gqMutations[this.gqName] };\n\n    q[this.gqName] = {};\n\n    // Associations\n    for (let a in this.gqAssociations[this.gqName]) {\n      const assoc = this.gqAssociations[this.gqName][a];\n      q[this.gqName][a] = assoc.resolver;\n    }\n\n    // Extra\n    for (let a in this.gqExtraArgs[this.gqName]) {\n      const assoc = this.gqExtraArgs[this.gqName][a];\n      q[this.gqName][a] = assoc.resolver;\n    }\n\n    return q;\n  }\n\n  static onInit() {}\n\n  // Default mutation Resolvers\n  static getQueryResolver(_, args, ctx, info) {\n    let include;\n    for (let arg in args.where) {\n      if (arg.indexOf('__') >= 0) {\n        const assocs = arg.split('__');\n        args.where['$' + assocs.join('.') + '$'] = args.where[arg];\n        include = this._assocsToInclude(assocs);\n        delete args.where[arg];\n      }\n    }\n    return resolver(this, {\n      before: (findOptions) => {\n        findOptions.include = include;\n        return findOptions;\n      }\n    })(_, args, ctx, info);\n  }\n\n  static createMutationResolver(_, args) {\n    return this.create(args);\n  }\n\n  static updateMutationResolver(_, args) {\n    const options = { where: { id: args.id } };\n    delete args.id;\n    return this.update(args, options).then(() => this.findByPk(options.where.id));\n  }\n\n  static upsertMutationResolver(_, args) {\n    return this.upsert(args).then(() => this.findByPk(args.id));\n  }\n\n  static deleteMutationResolver(_, args) {\n    return this.destroy({ where: args });\n  }\n\n  // Takes arguments from graphql-sequelize or arg: {type: 'type' or ['type']} and coverts them to string 'id:Int, arg:type',\n  // if arg is in required, it will add ! at the end, if arg is in ignore it won't add it\n  static argsToString(args, { required = [], allowed = [], separator = ', ' } = {}) {\n    if (allowed.length > 0) args = filter(args, (arg) => allowed.indexOf(arg) >= 0 || required.indexOf(arg) >= 0);\n\n    let str = [];\n    for (let arg in args) {\n      const bang = required.indexOf(arg) >= 0 ? '!' : '';\n      if (args[arg].returnType) {\n        str.push(`${arg}: ${args[arg].returnType}${bang}`);\n      } else if (args[arg].type.constructor.name === 'GraphQLList') {\n        str.push(`${arg}: [${args[arg].type.ofType.name}]${bang}`);\n      } else if (args[arg].type.constructor.name === 'GraphQLNonNull') {\n        str.push(`${arg}: ${args[arg].type.ofType.name}!`);\n      } else {\n        try {\n          str.push(`${arg}: ${args[arg].type.name || args[arg].type.ofType.name}${bang}`);\n        } catch(e) {\n          if (Array.isArray(args[arg].type)) str.push(`${arg}:[${args[arg].type[0]}]${bang}`);\n          else str.push(`${arg}: ${args[arg].type}${bang}`);\n        }\n      }\n    }\n    return str.join(separator);\n  }\n\n  static sequelizeToGqSchema({ required = [], allowed = [] } = {}) {\n    // Fields - arguments and associations\n    const args = attributeFields(this);\n    const assocs = this.gqAssociations[this.gqName];\n    const extras = this.gqExtraArgs[this.gqName];\n    const me = this;\n    if (allowed.length > 0) {\n      Object.keys(filter(assocs, (assoc) => allowed.indexOf(assoc) < 0)).forEach((a) => {\n        // Remove resolvers for not allowed associations\n        delete me.gqAssociations[me.gqName][a];\n      });\n      Object.keys(filter(extras, (extra) => allowed.indexOf(extra) < 0)).forEach((a) => {\n        // Remove resolvers for not allowed associations\n        delete me.gqExtraArgs[me.gqName][a];\n      });\n    }\n    const total = Object.assign(args, assocs, extras);\n    let sq = `type ${this.gqName} {\n  ${this.argsToString(total, { required, allowed, separator: '\\n  ' })}\n}`;\n    return sq;\n  }\n\n  static _assocsToInclude(assocs, column = true, model = this) {\n    if (column) assocs.pop();\n    const assocName = assocs.shift();\n    const include = [{\n      model: model.gqAssociations[model.gqName][assocName].model,\n      as: assocName\n    }];\n    if (assocs.length > 0) {\n      include[0].include = this._assocsToInclude(assocs, false, model.gqAssociations[model.gqName][assocName].model);\n    }\n    return include;\n  }\n}\n\nfunction filter(json, fxn) {\n  const res = {};\n  for (let k in json) {\n    if (fxn(k)) res[k] = json[k];\n  }\n  return res;\n}\n\nModel.gqAssociations = {};\nModel.gqMutations = {};\nModel.gqQuery = {};\nModel.gqExtraArgs = {};\n\nmodule.exports = Model;\n","const { graphql } = require('graphql');\n\nclass ExpressToGraphql {\n  constructor(schema) {\n    this._schema = schema;\n    this._middlewares = [];\n  }\n\n  resolve(req, query, context = {}) {\n    this._middlewares.forEach((m) => {\n      m(req, context);\n    });\n\n    return graphql({\n      schema: this._schema,\n      source: query,\n      contextValue: context\n    });\n  }\n\n  use(fxn) {\n    this._middlewares.push(fxn);\n  }\n}\n\nmodule.exports = ExpressToGraphql;\n","const fs = require('fs');\nconst path = require('path');\n\nfunction loadRoutes(app, dir, { ignore = [], basePath = '' }) {\n  const paths = [];\n\n  fs\n    .readdirSync(dir)\n    .filter(file =>\n      path.extname(file) === '.js' &&\n      ignore.indexOf(file) < 0\n    )\n    .forEach((file) => {\n      const routes = require(path.join(dir, file));\n      let basePaths = routes.basePath || '';\n      delete routes.basePath;\n      if (typeof basePaths === 'string') basePaths = [basePaths];\n\n      basePaths.forEach((basep) => {\n        for (const method in routes) {\n          const methodRoutes = routes[method];\n          for (let r in methodRoutes) {\n            app[method](basePath + basep + r, methodRoutes[r]);\n            paths.push(basePath + basep + r);\n          }\n        }\n      });\n    });\n\n  return paths;\n}\n\nmodule.exports = loadRoutes;\n","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777 & (~process.umask());\n    }\n    if (!made) made = null;\n    \n    var cb = f || function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777 & (~process.umask());\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) {\n                    throw err0;\n                }\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","const { makeExecutableSchema } = require('graphql-tools');\nconst fs = require('fs');\nconst path = require('path');\nconst mkdirp = require('mkdirp');\n\nfunction getTypeDef(qs, resolvers) {\n  let ret = [];\n  for (let q in qs) {\n    const qdet = qs[q];\n    const args = qdet.args ? `(${qdet.args})` : '';\n    ret.push(`${q}${args}: ${qdet.returnType}`);\n    resolvers[q] = qdet.resolver;\n  }\n  return ret.join('\\n  ');\n}\n\nfunction createSchemaFromModels(models, { extra = '', query = {}, mutation = {}, saveSchema = true, schemaPath = './db/schema.graphql' } = {}) {\n  const typeDefs = [], resolvers = {};\n  for(let modelName in models) {\n    typeDefs.push(models[modelName].gqSchema);\n    Object.assign(resolvers, models[modelName].resolvers);\n    Object.assign(query, models[modelName].resolvers.Query);\n    Object.assign(mutation, models[modelName].resolvers.Mutation);\n  }\n  Object.assign(resolvers.Query, query);\n  Object.assign(resolvers.Mutation, mutation);\n\n  const qnew = {}, mnew = {};\n\n  const typeDef = `type Query {\n  ${getTypeDef(resolvers.Query, qnew)}\n}\n\ntype Mutation {\n  ${getTypeDef(resolvers.Mutation, mnew)}\n}\n\nscalar SequelizeJSON\nscalar Date\n${extra}\n`;\n\n  typeDefs.push(typeDef);\n  resolvers.Query = qnew;\n  resolvers.Mutation = mnew;\n\n  if (saveSchema) {\n    schemaPath = path.resolve(schemaPath);\n    mkdirp(path.dirname(schemaPath));\n    const comment = '# THIS FILE WS AUTOGENERATED BY SIFRR-API. DO NOT EDIT THIS FILE DIRECTLY. \\n\\n';\n    fs.writeFileSync(schemaPath, comment + typeDefs.join('\\n\\n'));\n  }\n\n  return makeExecutableSchema({\n    typeDefs,\n    resolvers\n  });\n}\n\nmodule.exports = createSchemaFromModels;\n","function filter(json, fxn) {\n  const res = {};\n  for (let k in json) {\n    if (fxn(k)) res[k] = json[k];\n  }\n  return res;\n}\n\nfunction reqToGraphqlArgs(req, { allowed = [] } = {}) {\n  let args = {};\n  Object.assign(args, req.query, req.body, req.params);\n\n  if (allowed.length > 0) args = filter(args, (arg) => allowed.indexOf(arg) >= 0);\n\n  for (let arg in args) {\n    try {\n      args[arg] = JSON.parse(args[arg]);\n    } catch(e) {\n      // Do nothing if it is not json\n    }\n  }\n\n  const ret = JSON.stringify(args).slice(1, -1).replace(/\"([^(\")\"]+)\":/g,'$1:');\n  return ret ? `(${ret})` : '';\n}\n\nmodule.exports = reqToGraphqlArgs;\n","const SifrrApi = {};\nSifrrApi.Model = require('./api/model');\nSifrrApi.ExpressToGraphql = require('./api/expresstographql');\nSifrrApi.loadRoutes = require('./api/loadroutes');\nSifrrApi.createSchemaFromModels = require('./api/createschemafrommodels');\nSifrrApi.reqToGraphqlArgs = require('./api/reqtographqlargs');\n\nmodule.exports = SifrrApi;\n"],"names":["require$$0","Sequelize","graphql","require","filter","require$$1","require$$2","require$$3","require$$4"],"mappings":"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"}