{"version":3,"file":"sifrr.seo.module.js","sources":["../src/pagerequest.js","../src/constants.js","../src/renderer.js","../../../../node_modules/cache-manager/lib/callback_filler.js","../../../../node_modules/cache-manager/lib/utils.js","../../../../node_modules/cache-manager/lib/caching.js","../../../../node_modules/cache-manager/node_modules/async/lib/async.js","../../../../node_modules/cache-manager/lib/multi_caching.js","../../../../node_modules/cache-manager/lib/index.js","../../../../node_modules/cache-manager/index.js","../src/getcache.js","../src/middleware.js","../src/sifrr.seo.js"],"sourcesContent":["const whiteTypes = ['document', 'script', 'xhr', 'fetch'];\n\nfunction isTypeOf(request, types) {\n  const resType = request.resourceType();\n  return types.indexOf(resType) !== -1;\n}\n\nclass PageRequest {\n  constructor(npage, filter = () => true) {\n    this.npage = npage;\n    this.filter = filter;\n    this.pendingRequests = 0;\n    this.pendingPromise = new Promise(res => this.pendingResolver = res);\n    this.addOnRequestListener();\n    this.addEndRequestListener();\n  }\n\n  addOnRequestListener() {\n    const me = this;\n    this.addListener = this.npage.setRequestInterception(true).then(() => {\n      me.npage.on('request', (request) => {\n        if (isTypeOf(request, whiteTypes) && this.filter(request.url())) {\n          me.pendingRequests++;\n          request.__allowed = true;\n          request.continue();\n        } else {\n          request.__allowed = false;\n          request.abort();\n        }\n      });\n    });\n  }\n\n  addEndRequestListener() {\n    // resolve pending fetch/xhrs\n    const me = this;\n    this.npage.on('requestfailed', request => {\n      me.onEnd(request);\n    });\n    this.npage.on('requestfinished', request => {\n      me.onEnd(request);\n    });\n  }\n\n  onEnd(request) {\n    if (request.__allowed) {\n      this.pendingRequests--;\n      if (this.pendingRequests === 0)this.pendingResolver();\n    }\n  }\n\n  all() {\n    if (this.pendingRequests === 0) return Promise.resolve(true);\n    return this.pendingPromise;\n  }\n}\n\nmodule.exports = PageRequest;\n","module.exports = {\n  noop: () => {},\n  headerName: 'X-SSR-Powered-By',\n  headerValue: '@sifrr/seo'\n};\n","const puppeteer = require('puppeteer');\nconst PageRequest = require('./pagerequest');\nconst { noop } = require('./constants');\n\nclass Renderer {\n  constructor(puppeteerOptions = {}, options = {}) {\n    this.launched = false;\n    this.puppeteerOptions = Object.assign({\n      headless: true,\n      args: [],\n    }, puppeteerOptions);\n    this.puppeteerOptions.args.push(\n      '--no-sandbox',\n      '--disable-setuid-sandbox'\n    );\n    this.options = Object.assign({\n      beforeRender: noop,\n      afterRender: noop\n    }, options);\n  }\n\n  async launchBrowser() {\n    this.browser = await puppeteer.launch(this.puppeteerOptions);\n    this.launched = true;\n    const me = this;\n    this.browser.on('disconnected', () => {\n      /* istanbul ignore next */\n      me.launched = false;\n    });\n  }\n\n  close() {\n    if (this.launched) return this.browser.close();\n    else return Promise.resolve(true);\n  }\n\n  render(req) {\n    const fullUrl = req.fullUrl;\n    let pro = Promise.resolve(true);\n    const me = this;\n\n    if (!this.launched) pro = this.launchBrowser();\n    return pro.then(() => this.browser.newPage()).then(async (newp) => {\n      const fetches = new PageRequest(newp, me.options.filterOutgoingRequests);\n      await fetches.addListener;\n\n      const headers = req.headers || {};\n      delete headers['user-agent'];\n      await newp.setExtraHTTPHeaders(headers);\n      await newp.evaluateOnNewDocument(me.options.beforeRender);\n      const resp = await newp.goto(fullUrl, { waitUntil: 'load' });\n      const sRC = me.isHTML(resp);\n      let ret;\n\n      if (sRC) {\n        await fetches.all();\n        process.stdout.write(`Rendering ${fullUrl} with sifrr-seo \\n`);\n        /* istanbul ignore next */\n        await newp.evaluate(me.options.afterRender);\n        /* istanbul ignore next */\n        ret = await newp.evaluate(() => new XMLSerializer().serializeToString(document));\n      } else {\n        ret = false;\n      }\n\n      await newp.close();\n      return ret;\n    });\n  }\n\n  isHTML(puppeteerResp) {\n    return (puppeteerResp.headers()['content-type'] && puppeteerResp.headers()['content-type'].indexOf('html') >= 0);\n  }\n}\n\nmodule.exports = Renderer;\n","function CallbackFiller() {\n    this.queues = {};\n}\n\nCallbackFiller.prototype.fill = function(key, err, data) {\n    var waiting = this.queues[key];\n    delete this.queues[key];\n\n    if (waiting && waiting.length) {\n        waiting.forEach(function(task) {\n            (task.cb)(err, data);\n        });\n    }\n};\n\nCallbackFiller.prototype.has = function(key) {\n    return this.queues[key];\n};\n\nCallbackFiller.prototype.add = function(key, funcObj) {\n    if (this.queues[key]) {\n        this.queues[key].push(funcObj);\n    } else {\n        this.queues[key] = [funcObj];\n    }\n};\n\nmodule.exports = CallbackFiller;\n","\nvar isObject = function isObject(value) {\n    return value instanceof Object && value.constructor === Object;\n};\n\nvar parseWrapArguments = function parseWrapArguments(args) {\n    var length = args.length;\n    var work;\n    var options = {};\n    var cb;\n\n    /**\n     * As we can receive an unlimited number of keys\n     * we find the index of the first function which is\n     * the \"work\" handler to fetch the keys.\n     */\n    for (var i = 0; i < length; i += 1) {\n        if (typeof args[i] === 'function') {\n            if (typeof args[i + 2] === 'function') {\n                cb = args.pop();\n            } else if (typeof args[i + 1] === 'function') {\n                cb = args.pop();\n            }\n            if (isObject(args[i + 1])) {\n                options = args.pop();\n            }\n            work = args.pop();\n            break;\n        }\n    }\n\n    return {\n        keys: args,\n        work: work,\n        options: options,\n        cb: cb\n    };\n};\n\nmodule.exports = {\n    isObject: isObject,\n    parseWrapArguments: parseWrapArguments,\n};\n","/** @module cacheManager/caching */\n/*jshint maxcomplexity:16*/\nvar CallbackFiller = require('./callback_filler');\nvar utils = require('./utils');\nvar parseWrapArguments = utils.parseWrapArguments;\n\n/**\n * Generic caching interface that wraps any caching library with a compatible interface.\n *\n * @param {object} args\n * @param {object|string} args.store - The store must at least have `set` and a `get` functions.\n * @param {function} [args.isCacheableValue] - A callback function which is called\n *   with every value returned from cache or from a wrapped function. This lets you specify\n *   which values should and should not be cached. If the function returns true, it will be\n *   stored in cache. By default it caches everything except undefined.\n */\nvar caching = function(args) {\n    args = args || {};\n    var self = {};\n    if (typeof args.store === 'object') {\n        if (args.store.create) {\n            self.store = args.store.create(args);\n        } else {\n            self.store = args.store;\n        }\n    } else {\n        var storeName = args.store || 'memory';\n        self.store = require('./stores/' + storeName).create(args);\n    }\n\n    // do we handle a cache error the same as a cache miss?\n    self.ignoreCacheErrors = args.ignoreCacheErrors || false;\n\n    var Promise = args.promiseDependency || global.Promise;\n\n    var callbackFiller = new CallbackFiller();\n\n    if (typeof args.isCacheableValue === 'function') {\n        self._isCacheableValue = args.isCacheableValue;\n    } else if (typeof self.store.isCacheableValue === 'function') {\n        self._isCacheableValue = self.store.isCacheableValue.bind(self.store);\n    } else {\n        self._isCacheableValue = function(value) {\n            return value !== undefined;\n        };\n    }\n\n    function wrapPromise(key, promise, options) {\n        return new Promise(function(resolve, reject) {\n            self.wrap(key, function(cb) {\n                Promise.resolve()\n                    .then(promise)\n                    .then(function(result) {\n                        cb(null, result);\n                        return null;\n                    })\n                    .catch(cb);\n            }, options, function(err, result) {\n                if (err) {\n                    return reject(err);\n                }\n                resolve(result);\n            });\n        });\n    }\n\n    /**\n     * Wraps a function in cache. I.e., the first time the function is run,\n     * its results are stored in cache so subsequent calls retrieve from cache\n     * instead of calling the function.\n     * You can pass any number of keys as long as the wrapped function returns\n     * an array with the same number of values and in the same order.\n     *\n     * @function\n     * @name wrap\n     *\n     * @param {string} key - The cache key to use in cache operations. Can be one or many.\n     * @param {function} work - The function to wrap\n     * @param {object} [options] - options passed to `set` function\n     * @param {function} cb\n     *\n     * @example\n     * var key = 'user_' + userId;\n     * cache.wrap(key, function(cb) {\n     *     User.get(userId, cb);\n     * }, function(err, user) {\n     *     console.log(user);\n     * });\n     *\n     * // Multiple keys\n     * var key = 'user_' + userId;\n     * var key2 = 'user_' + userId2;\n     * cache.wrap(key, key2, function(cb) {\n     *     User.getMany([userId, userId2], cb);\n     * }, function(err, users) {\n     *     console.log(users[0]);\n     *     console.log(users[1]);\n     * });\n     */\n    self.wrap = function() {\n        var parsedArgs = parseWrapArguments(Array.prototype.slice.apply(arguments));\n        var keys = parsedArgs.keys;\n        var work = parsedArgs.work;\n        var options = parsedArgs.options;\n        var cb = parsedArgs.cb;\n\n        if (!cb) {\n            keys.push(work);\n            keys.push(options);\n            return wrapPromise.apply(this, keys);\n        }\n\n        if (keys.length > 1) {\n            /**\n             * Handle more than 1 key\n             */\n            return wrapMultiple(keys, work, options, cb);\n        }\n\n        var key = keys[0];\n\n        var hasKey = callbackFiller.has(key);\n        callbackFiller.add(key, {cb: cb});\n        if (hasKey) { return; }\n\n        self.store.get(key, options, function(err, result) {\n            if (err && (!self.ignoreCacheErrors)) {\n                callbackFiller.fill(key, err);\n            } else if (self._isCacheableValue(result)) {\n                callbackFiller.fill(key, null, result);\n            } else {\n                work(function(err, data) {\n                    if (err) {\n                        callbackFiller.fill(key, err);\n                        return;\n                    }\n\n                    if (!self._isCacheableValue(data)) {\n                        callbackFiller.fill(key, null, data);\n                        return;\n                    }\n\n                    if (options && typeof options.ttl === 'function') {\n                        options.ttl = options.ttl(data);\n                    }\n\n                    self.store.set(key, data, options, function(err) {\n                        if (err && (!self.ignoreCacheErrors)) {\n                            callbackFiller.fill(key, err);\n                        } else {\n                            callbackFiller.fill(key, null, data);\n                        }\n                    });\n                });\n            }\n        });\n    };\n\n    function wrapMultiple(keys, work, options, cb) {\n        /**\n         * We create a unique key for the multiple keys\n         * by concatenating them\n         */\n        var combinedKey = keys.reduce(function(acc, k) {\n            return acc + k;\n        }, '');\n\n        var hasKey = callbackFiller.has(combinedKey);\n        callbackFiller.add(combinedKey, {cb: cb});\n        if (hasKey) { return; }\n\n        keys.push(options);\n        keys.push(onResult);\n\n        self.store.mget.apply(self.store, keys);\n\n        function onResult(err, result) {\n            if (err && (!self.ignoreCacheErrors)) {\n                return callbackFiller.fill(combinedKey, err);\n            }\n\n            /**\n            * If all the values returned are cacheable we don't need\n            * to call our \"work\" method and the values returned by the cache\n            * are valid. If one or more of the values is not cacheable\n            * the cache result is not valid.\n            */\n            var cacheOK = Array.isArray(result) && result.filter(function(_result) {\n                return self._isCacheableValue(_result);\n            }).length === result.length;\n\n            if (cacheOK) {\n                return callbackFiller.fill(combinedKey, null, result);\n            }\n\n            return work(function(err, data) {\n                if (err) {\n                    return done(err);\n                }\n\n                var _args = [];\n                data.forEach(function(value, i) {\n                    /**\n                     * Add the {key, value} pair to the args\n                     * array that we will send to mset()\n                     */\n                    if (self._isCacheableValue(value)) {\n                        _args.push(keys[i]);\n                        _args.push(value);\n                    }\n                });\n\n                // If no key|value, exit\n                if (_args.length === 0) {\n                    return done(null);\n                }\n\n                if (options && typeof options.ttl === 'function') {\n                    options.ttl = options.ttl(data);\n                }\n\n                _args.push(options);\n                _args.push(done);\n\n                self.store.mset.apply(self.store, _args);\n\n                function done(err) {\n                    if (err && (!self.ignoreCacheErrors)) {\n                        callbackFiller.fill(combinedKey, err);\n                    } else {\n                        callbackFiller.fill(combinedKey, null, data);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Binds to the underlying store's `get` function.\n     * @function\n     * @name get\n     */\n    self.get = self.store.get.bind(self.store);\n\n    /**\n     * Get multiple keys at once.\n     * Binds to the underlying store's `mget` function.\n     * @function\n     * @name mget\n     */\n    if (typeof self.store.mget === 'function') {\n        self.mget = self.store.mget.bind(self.store);\n    }\n\n    /**\n     * Binds to the underlying store's `set` function.\n     * @function\n     * @name set\n     */\n    self.set = self.store.set.bind(self.store);\n\n    /**\n     * Set multiple keys at once.\n     * It accepts any number of {key, value} pair\n     * Binds to the underlying store's `mset` function.\n     * @function\n     * @name mset\n     */\n    if (typeof self.store.mset === 'function') {\n        self.mset = self.store.mset.bind(self.store);\n    }\n\n    /**\n     * Binds to the underlying store's `del` function if it exists.\n     * @function\n     * @name del\n     */\n    if (typeof self.store.del === 'function') {\n        self.del = self.store.del.bind(self.store);\n    }\n\n    /**\n     * Binds to the underlying store's `setex` function if it exists.\n     * @function\n     * @name setex\n     */\n    if (typeof self.store.setex === 'function') {\n        self.setex = self.store.setex.bind(self.store);\n    }\n\n    /**\n     * Binds to the underlying store's `reset` function if it exists.\n     * @function\n     * @name reset\n     */\n    if (typeof self.store.reset === 'function') {\n        self.reset = self.store.reset.bind(self.store);\n    }\n\n    /**\n     * Binds to the underlying store's `keys` function if it exists.\n     * @function\n     * @name keys\n     */\n    if (typeof self.store.keys === 'function') {\n        self.keys = self.store.keys.bind(self.store);\n    }\n\n    /**\n     * Binds to the underlying store's `ttl` function if it exists.\n     * @function\n     * @name ttl\n     */\n    if (typeof self.store.ttl === 'function') {\n        self.ttl = self.store.ttl.bind(self.store);\n    }\n\n    return self;\n};\n\nmodule.exports = caching;\n","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","/** @module cacheManager/multiCaching */\nvar async = require('async');\nvar CallbackFiller = require('./callback_filler');\nvar utils = require('./utils');\nvar isObject = utils.isObject;\nvar parseWrapArguments = utils.parseWrapArguments;\n\n/**\n * Module that lets you specify a hierarchy of caches.\n *\n * @param {array} caches - Array of caching objects.\n * @param {object} [options]\n * @param {function} [options.isCacheableValue] - A callback function which is called\n *   with every value returned from cache or from a wrapped function. This lets you specify\n *   which values should and should not be cached. If the function returns true, it will be\n *   stored in cache. By default it caches everything except undefined.\n *\n *   If an underlying cache specifies its own isCacheableValue function, that function will\n *   be used instead of the multiCaching's _isCacheableValue function.\n */\nvar multiCaching = function(caches, options) {\n    var self = {};\n    options = options || {};\n\n    var Promise = options.promiseDependency || global.Promise;\n\n    if (!Array.isArray(caches)) {\n        throw new Error('multiCaching requires an array of caches');\n    }\n\n    var callbackFiller = new CallbackFiller();\n\n    if (typeof options.isCacheableValue === 'function') {\n        self._isCacheableValue = options.isCacheableValue;\n    } else {\n        self._isCacheableValue = function(value) {\n            return value !== undefined;\n        };\n    }\n\n    /**\n     * If the underlying cache specifies its own isCacheableValue function (such\n     * as how node-cache-manager-redis does), use that function, otherwise use\n     * self._isCacheableValue function.\n     */\n    function getIsCacheableValueFunction(cache) {\n        if (cache.store && typeof cache.store.isCacheableValue === 'function') {\n            return cache.store.isCacheableValue;\n        } else {\n            return self._isCacheableValue;\n        }\n    }\n\n    function getFromHighestPriorityCachePromise() {\n        var args = Array.prototype.slice.apply(arguments).filter(function(v) {\n            return typeof v !== 'undefined';\n        });\n\n        return new Promise(function(resolve, reject) {\n            var cb = function(err, result) {\n                if (err) {\n                    return reject(err);\n                }\n                resolve(result);\n            };\n            args.push(cb);\n            getFromHighestPriorityCache.apply(null, args);\n        });\n    }\n\n    function getFromHighestPriorityCache() {\n        var args = Array.prototype.slice.apply(arguments).filter(function(v) {\n            return typeof v !== 'undefined';\n        });\n        var cb;\n        var options = {};\n\n        if (typeof args[args.length - 1] === 'function') {\n            cb = args.pop();\n        }\n\n        if (!cb) {\n            return getFromHighestPriorityCachePromise.apply(this, args);\n        }\n\n        if (isObject(args[args.length - 1])) {\n            options = args.pop();\n        }\n\n        /**\n         * Keep a copy of the keys to retrieve\n         */\n        var keys = Array.prototype.slice.apply(args);\n        var multi = keys.length > 1;\n\n        /**\n         * Then put back the options in the args Array\n         */\n        args.push(options);\n\n        if (multi) {\n            /**\n             * Keep track of the keys left to fetch accross the caches\n             */\n            var keysToFetch = Array.prototype.slice.apply(keys);\n\n            /**\n             * Hash to save our multi keys result\n             */\n            var mapResult = {};\n        }\n\n        var i = 0;\n        async.eachSeries(caches, function(cache, next) {\n            var callback = function(err, result) {\n                if (err) {\n                    return next(err);\n                }\n\n                var _isCacheableValue = getIsCacheableValueFunction(cache);\n\n                if (multi) {\n                    addResultToMap(result, _isCacheableValue);\n\n                    if (keysToFetch.length === 0 || i === caches.length - 1) {\n                        // Return an Array with the values merged from all the caches\n                        return cb(null, keys.map(function(k) {\n                            return mapResult[k] || undefined;\n                        }), i);\n                    }\n                } else if (_isCacheableValue(result)) {\n                    // break out of async loop.\n                    return cb(err, result, i);\n                }\n\n                i += 1;\n                next();\n            };\n\n            if (multi) {\n                if (typeof cache.store.mget !== 'function') {\n                    /**\n                     * Silently fail for store that don't support mget()\n                     */\n                    return callback(null, []);\n                }\n                var _args = Array.prototype.slice.apply(keysToFetch);\n                _args.push(options);\n                _args.push(callback);\n                cache.store.mget.apply(cache.store, _args);\n            } else {\n                cache.store.get(args[0], options, callback);\n            }\n        }, function(err, result) {\n            return cb(err, result);\n        });\n\n        function addResultToMap(result, isCacheable) {\n            var key;\n            var diff = 0;\n\n            /**\n             * We loop through the result and if the value\n             * is cacheable we add it to the mapResult hash\n             * and remove the key to fetch from the \"keysToFetch\" array\n             */\n            result.forEach(function(res, i) {\n                if (isCacheable(res)) {\n                    key = keysToFetch[i - diff];\n\n                    // Add the result to our map\n                    mapResult[key] = res;\n\n                    // delete key from our keysToFetch array\n                    keysToFetch.splice(i - diff, 1);\n                    diff += 1;\n                }\n            });\n        }\n    }\n\n    function setInMultipleCachesPromise() {\n        var args = Array.prototype.slice.apply(arguments);\n\n        return new Promise(function(resolve, reject) {\n            var cb = function(err, result) {\n                if (err) {\n                    return reject(err);\n                }\n                resolve(result);\n            };\n            args.push(cb);\n            setInMultipleCaches.apply(null, args);\n        });\n    }\n\n    function setInMultipleCaches() {\n        var args = Array.prototype.slice.apply(arguments);\n        var _caches = Array.isArray(args[0]) ? args.shift() : caches;\n\n        var cb;\n        var options = {};\n\n        if (typeof args[args.length - 1] === 'function') {\n            cb = args.pop();\n        }\n\n        if (!cb) {\n            return setInMultipleCachesPromise.apply(this, args);\n        }\n\n        if (args.length % 2 > 0 && isObject(args[args.length - 1])) {\n            options = args.pop();\n        }\n\n        var length = args.length;\n        var multi = length > 2;\n        var i;\n\n        async.each(_caches, function(cache, next) {\n            var _isCacheableValue = getIsCacheableValueFunction(cache);\n            var keysValues = Array.prototype.slice.apply(args);\n\n            /**\n             * We filter out the keys *not* cacheable\n             */\n            for (i = 0; i < length; i += 2) {\n                if (!_isCacheableValue(keysValues[i + 1])) {\n                    keysValues.splice(i, 2);\n                }\n            }\n\n            if (keysValues.length === 0) {\n                return next();\n            }\n\n            var cacheOptions = options;\n            if (typeof options.ttl === 'function') {\n                /**\n                 * Dynamically set the ttl by context depending of the store\n                 */\n                cacheOptions = {};\n                cacheOptions.ttl = options.ttl(keysValues, cache.store.name);\n            }\n\n            if (multi) {\n                if (typeof cache.store.mset !== 'function') {\n                    /**\n                     * Silently fail for store that don't support mset()\n                     */\n                    return next();\n                }\n                keysValues.push(cacheOptions);\n                keysValues.push(next);\n\n                cache.store.mset.apply(cache.store, keysValues);\n            } else {\n                cache.store.set(keysValues[0], keysValues[1], cacheOptions, next);\n            }\n        }, function(err, result) {\n            cb(err, result);\n        });\n    }\n\n    function getAndPassUpPromise(key) {\n        return new Promise(function(resolve, reject) {\n            self.getAndPassUp(key, function(err, result) {\n                if (err) {\n                    return reject(err);\n                }\n                resolve(result);\n            });\n        });\n    }\n\n    /**\n     * Looks for an item in cache tiers.\n     * When a key is found in a lower cache, all higher levels are updated.\n     *\n     * @param {string} key\n     * @param {function} cb\n     */\n    self.getAndPassUp = function(key, cb) {\n        if (!cb) {\n            return getAndPassUpPromise(key);\n        }\n\n        getFromHighestPriorityCache(key, function(err, result, index) {\n            if (err) {\n                return cb(err);\n            }\n\n            if (index) {\n                var cachesToUpdate = caches.slice(0, index);\n                async.each(cachesToUpdate, function(cache, next) {\n                    var _isCacheableValue = getIsCacheableValueFunction(cache);\n                    if (_isCacheableValue(result)) {\n                        // We rely on the cache module's default TTL\n                        cache.set(key, result, next);\n                    }\n                });\n            }\n\n            return cb(err, result);\n        });\n    };\n\n    function wrapPromise(key, promise, options) {\n        return new Promise(function(resolve, reject) {\n            self.wrap(key, function(cb) {\n                Promise.resolve()\n                .then(promise)\n                .then(function(result) {\n                    cb(null, result);\n                })\n                .catch(cb);\n            }, options, function(err, result) {\n                if (err) {\n                    return reject(err);\n                }\n                resolve(result);\n            });\n        });\n    }\n\n    /**\n     * Wraps a function in one or more caches.\n     * Has same API as regular caching module.\n     *\n     * If a key doesn't exist in any cache, it gets set in all caches.\n     * If a key exists in a high-priority (e.g., first) cache, it gets returned immediately\n     * without getting set in other lower-priority caches.\n     * If a key doesn't exist in a higher-priority cache but exists in a lower-priority\n     * cache, it gets set in all higher-priority caches.\n     * You can pass any number of keys as long as the wrapped function returns\n     * an array with the same number of values and in the same order.\n     *\n     * @function\n     * @name wrap\n     *\n     * @param {string} key - The cache key to use in cache operations. Can be one or many.\n     * @param {function} work - The function to wrap\n     * @param {object} [options] - options passed to `set` function\n     * @param {function} cb\n     */\n    self.wrap = function() {\n        var parsedArgs = parseWrapArguments(Array.prototype.slice.apply(arguments));\n        var keys = parsedArgs.keys;\n        var work = parsedArgs.work;\n        var options = parsedArgs.options;\n        var cb = parsedArgs.cb;\n\n        if (!cb) {\n            keys.push(work);\n            keys.push(options);\n            return wrapPromise.apply(this, keys);\n        }\n\n        if (keys.length > 1) {\n            /**\n             * Handle more than 1 key\n             */\n            return wrapMultiple(keys, work, options, cb);\n        }\n\n        var key = keys[0];\n\n        var hasKey = callbackFiller.has(key);\n        callbackFiller.add(key, {cb: cb});\n        if (hasKey) { return; }\n\n        getFromHighestPriorityCache(key, function(err, result, index) {\n            if (err) {\n                return callbackFiller.fill(key, err);\n            } else if (self._isCacheableValue(result)) {\n                var cachesToUpdate = caches.slice(0, index);\n                var args = [cachesToUpdate, key, result, options, function(err) {\n                    callbackFiller.fill(key, err, result);\n                }];\n\n                setInMultipleCaches.apply(null, args);\n            } else {\n                work(function(err, data) {\n                    if (err) {\n                        return callbackFiller.fill(key, err);\n                    }\n\n                    if (!self._isCacheableValue(data)) {\n                        return callbackFiller.fill(key, err, data);\n                    }\n\n                    var args = [caches, key, data, options, function(err) {\n                        callbackFiller.fill(key, err, data);\n                    }];\n\n                    setInMultipleCaches.apply(null, args);\n                });\n            }\n        });\n    };\n\n    function wrapMultiple(keys, work, options, cb) {\n        /**\n         * We create a unique key for the multiple keys\n         * by concatenating them\n         */\n        var combinedKey = keys.reduce(function(acc, k) {\n            return acc + k;\n        }, '');\n\n        var hasKey = callbackFiller.has(combinedKey);\n        callbackFiller.add(combinedKey, {cb: cb});\n        if (hasKey) { return; }\n\n        keys.push(options);\n        keys.push(onResult);\n\n        /**\n         * Get from all the caches. If multiple keys have been passed,\n         * we'll go through all the caches and merge the result\n         */\n        getFromHighestPriorityCache.apply(this, keys);\n\n        function onResult(err, result, index) {\n            if (err) {\n                return done(err);\n            }\n\n            /**\n             * If all the values returned are cacheable we don't need\n             * to call our \"work\" method and the values returned by the cache\n             * are valid. If one or more of the values is not cacheable\n             * the cache result is not valid.\n             */\n            var cacheOK = result.filter(function(_result) {\n                return self._isCacheableValue(_result);\n            }).length === result.length;\n\n            if (!cacheOK) {\n                /**\n                 * We need to fetch the data first\n                 */\n                return work(workCallback);\n            }\n\n            var cachesToUpdate = caches.slice(0, index);\n\n            /**\n             * Prepare arguments to set the values in\n             * higher priority caches\n             */\n            var _args = [cachesToUpdate];\n\n            /**\n             * Add the {key, value} pair\n             */\n            result.forEach(function(value, i) {\n                _args.push(keys[i]);\n                _args.push(value);\n            });\n\n            /**\n             * Add options and final callback\n             */\n            _args.push(options);\n            _args.push(function(err) {\n                done(err, result);\n            });\n\n            return setInMultipleCaches.apply(null, _args);\n\n            /**\n             * Wrapped function callback\n             */\n            function workCallback(err, data) {\n                if (err) {\n                    return done(err);\n                }\n\n                /**\n                 * Prepare arguments for \"setInMultipleCaches\"\n                 */\n                var _args;\n\n                _args = [];\n                data.forEach(function(value, i) {\n                    /**\n                     * Add the {key, value} pair to the args\n                     * array that we will send to mset()\n                     */\n                    if (self._isCacheableValue(value)) {\n                        _args.push(keys[i]);\n                        _args.push(value);\n                    }\n                });\n                // If no key,value --> exit\n                if (_args.length === 0) {\n                    return done(null);\n                }\n\n                /**\n                 * Add options and final callback\n                 */\n                _args.push(options);\n                _args.push(function(err) {\n                    done(err, data);\n                });\n\n                setInMultipleCaches.apply(null, _args);\n            }\n\n            /**\n             * Final callback\n             */\n            function done(err, data) {\n                callbackFiller.fill(combinedKey, err, data);\n            }\n        }\n    }\n\n    /**\n     * Set value in all caches\n     *\n     * @function\n     * @name set\n     *\n     * @param {string} key\n     * @param {*} value\n     * @param {object} [options] to pass to underlying set function.\n     * @param {function} [cb]\n     */\n    self.set = setInMultipleCaches;\n\n    /**\n     * Set multiple values in all caches\n     * Accepts an unlimited pair of {key, value}\n     *\n     * @function\n     * @name mset\n     *\n     * @param {string} key\n     * @param {*} value\n     * @param {string} [key2]\n     * @param {*} [value2]\n     * @param {object} [options] to pass to underlying set function.\n     * @param {function} [cb]\n     */\n    self.mset = setInMultipleCaches;\n\n    /**\n     * Get value from highest level cache that has stored it.\n     *\n     * @function\n     * @name get\n     *\n     * @param {string} key\n     * @param {object} [options] to pass to underlying get function.\n     * @param {function} cb\n     */\n    self.get = getFromHighestPriorityCache;\n\n    /**\n     * Get multiple value from highest level cache that has stored it.\n     * If some values are not found, the next highest cache is used\n     * until either all keys are found or all caches have been fetched.\n     * Accepts an unlimited number of keys.\n     *\n     * @function\n     * @name mget\n     *\n     * @param {string} key key to get (any number)\n     * @param {object} [options] to pass to underlying get function.\n     * @param {function} cb optional callback\n     */\n    self.mget = getFromHighestPriorityCache;\n\n    /**\n     * Delete value from all caches.\n     *\n     * @function\n     * @name del\n     *\n     * @param {string} key\n     * @param {object} [options] to pass to underlying del function.\n     * @param {function} cb\n     */\n    self.del = function() {\n        var args = Array.prototype.slice.apply(arguments);\n        var cb;\n        var options = {};\n\n        if (typeof args[args.length - 1] === 'function') {\n            cb = args.pop();\n        }\n\n        if (isObject(args[args.length - 1])) {\n            options = args.pop();\n        }\n\n        args.push(options);\n        async.each(caches, function(cache, next) {\n            var _args = Array.prototype.slice.apply(args);\n            _args.push(next);\n            cache.store.del.apply(cache.store, _args);\n        }, cb);\n    };\n\n    /**\n     * Reset all caches.\n     *\n     * @function\n     * @name reset\n     *\n     * @param {function} cb\n     */\n    self.reset = function(cb) {\n        async.each(caches, function(cache, next) {\n            cache.store.reset(next);\n        }, cb);\n    };\n\n    return self;\n};\n\nmodule.exports = multiCaching;\n","/** @namespace cacheManager */\nvar cacheManager = {\n    caching: require('./caching'),\n    multiCaching: require('./multi_caching')\n};\n\nmodule.exports = cacheManager;\n","module.exports = require('./lib');\n","const Cache = require('cache-manager');\n\nmodule.exports = (ops) => {\n  ops = Object.assign({\n    cacheStore: 'memory',\n    maxCacheSize: 100, // in MB\n    ttl: 0 // in Seconds\n  }, ops);\n\n  return Cache.caching({\n    store: ops.cacheStore,\n    ttl: ops.ttl,\n    length: (val, key) => {\n      return Buffer.from(key + key + val).length + 2;\n    },\n    max: ops.maxCacheSize * 1000000\n  });\n};","const { headerName, headerValue } = require('./constants');\n\n// this = sifrr seo instance\nmodule.exports = function(req, res, next) {\n  // Don't render other requests than GET\n  if (req.method !== 'GET') return next();\n\n  const renderReq = {\n    fullUrl: this.renderer.options.fullUrl(req),\n    headers: req.headers\n  };\n\n  if (this.getShouldRenderCache(renderReq) === null) {\n    res._end = res.end;\n    res.end = (resp, encoding) => {\n      if (res.hasHeader('content-type')) {\n        const contentType = res.getHeader('content-type');\n        if (contentType.indexOf('html') >= 0) {\n          this.addShouldRenderCache(renderReq, true);\n        } else {\n          this.addShouldRenderCache(renderReq, false);\n        }\n      }\n      res._end(resp, encoding);\n    };\n  }\n\n  return this.render(renderReq).then((html) => {\n    if (html) {\n      res.set(headerName, headerValue);\n      res.send(html);\n    } else next();\n  }).catch((e) => {\n    if (e.message === 'No Render') {\n      global.console.log(`Not rendering for ${renderReq.fullUrl}`);\n      next();\n    } else next(e);\n  });\n};\n","const Renderer = require('./renderer');\nconst isHeadless = new RegExp('(headless|Headless)');\nconst getCache = require('./getcache');\n\nclass SifrrSeo {\n  constructor(userAgents = [\n    'Googlebot', // Google\n    'Bingbot', // Bing\n    'Slurp', // Slurp\n    'DuckDuckBot', // DuckDuckGo\n    'Baiduspider', //Baidu\n    'YandexBot', // Yandex\n    'Sogou', // Sogou\n    'Exabot', // Exalead\n  ], options = {}) {\n    this._uas = userAgents.map((ua) => new RegExp(ua));\n    this.shouldRenderCache = {};\n    this.options = Object.assign({\n      cacheKey: (req) => req.fullUrl,\n      fullUrl: (expressReq) => `http://127.0.0.1:80${expressReq.originalUrl}`\n    }, options);\n  }\n\n  get middleware() {\n    return require('./middleware').bind(this);\n  }\n\n  isHeadless(req) {\n    const ua = req.headers['user-agent'];\n    return !!isHeadless.test(ua);\n  }\n\n  shouldRender(req) {\n    return this.isUserAgent(req);\n  }\n\n  isUserAgent(req) {\n    const ua = req.headers['user-agent'];\n    let ret = false;\n    this._uas.forEach((b) => {\n      if (b.test(ua)) ret = true;\n    });\n    return ret;\n  }\n\n  addUserAgent(userAgent) {\n    this._uas.push(new RegExp(userAgent));\n  }\n\n  clearCache() {\n    this.cache.reset();\n  }\n\n  close() {\n    return this.renderer.close();\n  }\n\n  setPuppeteerOption(name, value) {\n    this._poptions = this._poptions || {};\n    this._poptions[name] = value;\n  }\n\n  get cache() {\n    this._cache = this._cache || getCache(this.options);\n    return this._cache;\n  }\n\n  addShouldRenderCache(req, val) {\n    const key = this.options.cacheKey(req);\n    this.shouldRenderCache[key] = val;\n  }\n\n  getShouldRenderCache(req) {\n    const key = this.options.cacheKey(req);\n    if (this.shouldRenderCache[key] === undefined) return null;\n    return this.shouldRenderCache[key];\n  }\n\n  async render(req) {\n    if (this.getShouldRenderCache(req) === false) {\n      throw Error(`No Render`);\n    } else if (this.shouldRender(req) && !this.isHeadless(req)) {\n      const key = this.options.cacheKey(req);\n      return new Promise((res, rej) => {\n        this.cache.get(key, (err, val) => {\n          /* istanbul ignore if */\n          if (err) {\n            rej(err);\n          } else if (!val) {\n            this.renderer.render(req).then((resp) => {\n              this.cache.set(key, resp);\n              res(resp);\n            }).catch(/* istanbul ignore next */ err => {\n              rej(err);\n            });\n          } else {\n            res(val);\n          }\n        });\n      });\n    } else {\n      throw Error(`No Render`);\n    }\n  }\n\n  get renderer() {\n    this._renderer = this._renderer || new SifrrSeo.Renderer(this._poptions, this.options);\n    return this._renderer;\n  }\n}\n\nSifrrSeo.Renderer = Renderer;\n\nmodule.exports = SifrrSeo;\n"],"names":["require$$0","PageRequest","parseWrapArguments","require","global","CallbackFiller","isObject","require$$1","Cache","getCache","Renderer"],"mappings":"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"}