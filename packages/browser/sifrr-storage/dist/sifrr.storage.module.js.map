{"version":3,"file":"sifrr.storage.module.js","sources":["../src/utils/json.js","../src/storages/storage.js","../src/storages/indexeddb.js","../src/storages/websql.js","../src/storages/localstorage.js","../src/storages/cookies.js","../src/storages/jsonstorage.js","../src/storages.js","../src/sifrr.storage.js"],"sourcesContent":["const toS = Object.prototype.toString;\nconst uId = '~SS%l3g5k3~';\n\nfunction decodeBlob(str, type) {\n  return new Blob([new window.Uint8Array(str.split(',')).buffer], { type });\n}\n\nfunction encodeBlob(blob) {\n  const uri = URL.createObjectURL(blob),\n    xhr = new XMLHttpRequest();\n\n  xhr.open('GET', uri, false);\n  xhr.send();\n\n  URL.revokeObjectURL(uri);\n\n  const ui8 = new Uint8Array(xhr.response.length);\n  for (let i = 0; i < xhr.response.length; ++i) {\n    ui8[i] = xhr.response.charCodeAt(i);\n  }\n  return ui8.toString();\n}\n\nclass Json {\n  static parse(data) {\n    let ans = data;\n    if (typeof data === 'string') {\n      try {\n        ans = data = JSON.parse(data);\n      } catch (e) {\n        // do nothing\n      }\n    }\n\n    if (typeof data === 'string' && data.indexOf(uId) > 0) {\n      const [type, av, av2] = data.split(uId);\n\n      if (type === 'ArrayBuffer') ans = new window.Uint8Array(av.split(',')).buffer;\n      else if (type === 'Blob') ans = decodeBlob(av2, av);\n      else ans = new window[type](av.split(','));\n    } else if (Array.isArray(data)) {\n      ans = [];\n      data.forEach((v, i) => {\n        ans[i] = this.parse(v);\n      });\n    } else if (typeof data === 'object') {\n      if (data === null) return null;\n      ans = {};\n      for (const k in data) {\n        ans[k] = this.parse(data[k]);\n      }\n    }\n    return ans;\n  }\n\n  static stringify(data) {\n    if (typeof data !== 'object') return JSON.stringify(data);\n    if (data === null) return 'null';\n    if (Array.isArray(data)) return JSON.stringify(data.map(d => this.stringify(d)));\n    const type = toS.call(data).slice(8, -1);\n    if (type === 'Object') {\n      let ans = {};\n      for (let k in data) {\n        ans[k] = this.stringify(data[k]);\n      }\n      return JSON.stringify(ans);\n    } else if (type === 'ArrayBuffer') {\n      data = new window.Uint8Array(data);\n    } else if (type === 'Blob') {\n      data = data.type + uId + encodeBlob(data);\n    }\n    return type + uId + data.toString();\n  }\n}\n\nmodule.exports = Json;\n","const JsonExt = require('../utils/json');\nconst jsonConstructor = {}.constructor;\n\nclass Storage {\n  constructor(options = {}) {\n    this._options = options;\n    this.name = this._options.name;\n    this.version = this._options.version;\n    this.tableName = this.name + this.version;\n    this.description = this._options.description;\n    this.type = this.constructor.type;\n  }\n\n  _parseKeyValue(key, value) {\n    if (typeof value === 'undefined') {\n      if (Array.isArray(key)) {\n        return key;\n      } else if (typeof key === 'string') {\n        return [key];\n      } else if (key.constructor === jsonConstructor) {\n        return key;\n      }\n      {\n        throw Error('Invalid Key');\n      }\n    } else if (typeof key === 'string') {\n      let ans = {};\n      ans[key] = value;\n      return ans;\n    } else {\n      throw Error('Invalid Key');\n    }\n  }\n\n  _select(keys) {\n    return this.all().then(data => {\n      let ans = {};\n      keys.forEach(key => (ans[key] = data[key]));\n      return ans;\n    });\n  }\n\n  _upsert(data) {\n    let table = this.table;\n    for (let key in data) {\n      table[key] = data[key];\n    }\n    this.table = table;\n  }\n\n  _delete(keys) {\n    let table = this.table;\n    keys.forEach(key => delete table[key]);\n    this.table = table;\n  }\n\n  _clear() {\n    this.table = {};\n  }\n\n  _isEqual(options, type) {\n    if (this.tableName == options.name + options.version && this.type == type) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  isSupported(force = true) {\n    if (force && (typeof window === 'undefined' || typeof document === 'undefined')) {\n      return true;\n    } else if (window && typeof this.store !== 'undefined') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  keys() {\n    return this.all().then(d => Object.keys(d));\n  }\n\n  all() {\n    return Promise.resolve(this._parsedData());\n  }\n\n  get(key) {\n    return Promise.resolve(this._select(this._parseKeyValue(key)));\n  }\n\n  set(key, value) {\n    return Promise.resolve(this._upsert(this._parseKeyValue(key, value)));\n  }\n\n  del(key) {\n    return Promise.resolve(this._delete(this._parseKeyValue(key)));\n  }\n\n  clear() {\n    return Promise.resolve(this._clear());\n  }\n\n  static stringify(data) {\n    return JsonExt.stringify(data);\n  }\n\n  static parse(data) {\n    return JsonExt.parse(data);\n  }\n}\n\nmodule.exports = Storage;\n","const Storage = require('./storage');\n\nclass IndexedDB extends Storage {\n  constructor(options) {\n    super(options);\n  }\n\n  _parsedData() {\n    return this._tx('readonly', 'getAllKeys').then(this._select.bind(this));\n  }\n\n  _select(keys) {\n    const ans = {};\n    const promises = [];\n    keys.forEach(key => promises.push(this._tx('readonly', 'get', key).then(r => (ans[key] = r))));\n    return Promise.all(promises).then(() => ans);\n  }\n\n  _upsert(data) {\n    const promises = [];\n    for (let key in data) promises.push(this._tx('readwrite', 'put', data[key], key));\n    return Promise.all(promises);\n  }\n\n  _delete(keys) {\n    const promises = [];\n    keys.forEach(key => promises.push(this._tx('readwrite', 'delete', key)));\n    return Promise.all(promises);\n  }\n\n  _clear() {\n    return this._tx('readwrite', 'clear');\n  }\n\n  _tx(scope, fn, param1, param2) {\n    const me = this;\n    this._store = this._store || this.createStore(me.tableName);\n    return this._store.then(db => {\n      return new Promise((resolve, reject) => {\n        const tx = db.transaction(me.tableName, scope).objectStore(me.tableName);\n        const request = tx[fn].call(tx, param1, param2);\n        request.onsuccess = event => resolve(event.target.result);\n        request.onerror = event => reject(event.error);\n      });\n    });\n  }\n\n  get store() {\n    return window.indexedDB;\n  }\n\n  createStore(table) {\n    return new Promise((resolve, reject) => {\n      const request = this.store.open(table, 1);\n      request.onupgradeneeded = event => {\n        const db = event.target.result;\n        db.createObjectStore(table);\n      };\n      request.onsuccess = () => resolve(request.result);\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  static get type() {\n    return 'indexeddb';\n  }\n}\n\nmodule.exports = IndexedDB;\n","const Storage = require('./storage');\n\nclass WebSQL extends Storage {\n  constructor(options) {\n    super(options);\n    this.createStore();\n  }\n\n  _parsedData() {\n    return this.execSql(`SELECT key, value FROM ${this.tableName}`);\n  }\n\n  _select(keys) {\n    const q = keys.map(() => '?').join(', ');\n    // Need to give array for ? values in executeSql's 2nd argument\n    return this.execSql(`SELECT key, value FROM ${this.tableName} WHERE key in (${q})`, keys);\n  }\n\n  _upsert(data) {\n    this.store.transaction(tx => {\n      for (let key in data) {\n        tx.executeSql(`INSERT OR REPLACE INTO ${this.tableName}(key, value) VALUES (?, ?)`, [\n          key,\n          this.constructor.stringify(data[key])\n        ]);\n      }\n    });\n  }\n\n  _delete(keys) {\n    const q = keys.map(() => '?').join(', ');\n    return this.execSql(`DELETE FROM ${this.tableName} WHERE key in (${q})`, keys);\n  }\n\n  _clear() {\n    return this.execSql(`DELETE FROM ${this.tableName}`);\n  }\n\n  get store() {\n    return window.openDatabase('ss', 1, this._options.description, this._options.size);\n  }\n\n  createStore() {\n    if (!window || typeof window.openDatabase !== 'function') return;\n    return this.execSql(`CREATE TABLE IF NOT EXISTS ${this.tableName} (key unique, value)`);\n  }\n\n  execSql(query, args = []) {\n    const me = this;\n    return new Promise(resolve => {\n      me.store.transaction(function(tx) {\n        tx.executeSql(query, args, (txn, results) => {\n          resolve(me.parse(results));\n        });\n      });\n    });\n  }\n\n  parse(results) {\n    const ans = {};\n    const len = results.rows.length;\n    for (let i = 0; i < len; i++) {\n      ans[results.rows.item(i).key] = this.constructor.parse(results.rows.item(i).value);\n    }\n    return ans;\n  }\n\n  static get type() {\n    return 'websql';\n  }\n}\n\nmodule.exports = WebSQL;\n","const Storage = require('./storage');\n\nclass LocalStorage extends Storage {\n  constructor(options) {\n    super(options);\n  }\n\n  _parsedData() {\n    return this._select(\n      Object.keys(this.store)\n        .map(k => {\n          if (k.indexOf(this.tableName) === 0) return k.slice(this.tableName.length + 1);\n        })\n        .filter(k => typeof k !== 'undefined')\n    );\n  }\n\n  _select(keys) {\n    const table = {};\n    keys.forEach(k => {\n      const v = this.constructor.parse(this.store.getItem(this.tableName + '/' + k));\n      if (v !== null) table[k] = v;\n    });\n    return table;\n  }\n\n  _upsert(data) {\n    for (let key in data) {\n      this.store.setItem(this.tableName + '/' + key, this.constructor.stringify(data[key]));\n    }\n    return true;\n  }\n\n  _delete(keys) {\n    return keys.map(k => this.store.removeItem(this.tableName + '/' + k));\n  }\n\n  _clear() {\n    Object.keys(this.store).forEach(k => {\n      if (k.indexOf(this.tableName) === 0) this.store.removeItem(k);\n    });\n    return true;\n  }\n\n  get store() {\n    return window.localStorage;\n  }\n\n  static get type() {\n    return 'localstorage';\n  }\n}\n\nmodule.exports = LocalStorage;\n","const Storage = require('./storage');\nconst date = new Date(0).toUTCString();\nconst equal = '%3D',\n  equalRegex = new RegExp(equal, 'g');\n\nclass Cookies extends Storage {\n  constructor(options) {\n    super(options);\n  }\n\n  _parsedData() {\n    let result = this.store,\n      ans = {};\n    result.split('; ').forEach(value => {\n      let [k, v] = value.split('=');\n      if (k.indexOf(this.tableName) === 0)\n        ans[k.slice(this.tableName.length + 1)] = this.constructor.parse(\n          v.replace(equalRegex, '=')\n        );\n    });\n    return ans;\n  }\n\n  _upsert(data) {\n    for (let key in data) {\n      this.store = `${this.tableName}/${key}=${this.constructor\n        .stringify(data[key])\n        .replace(/=/g, equal)}; path=/`;\n    }\n    return true;\n  }\n\n  _clear() {\n    let result = this.store;\n    result.split('; ').forEach(value => {\n      const k = value.split('=')[0];\n      if (k.indexOf(this.tableName) === 0) {\n        this.store = `${k}=; expires=${date}; path=/`;\n      }\n    });\n  }\n\n  get store() {\n    return document.cookie;\n  }\n\n  set store(v) {\n    document.cookie = v;\n  }\n\n  static get type() {\n    return 'cookies';\n  }\n}\n\nmodule.exports = Cookies;\n","const Storage = require('./storage');\n\nclass JsonStorage extends Storage {\n  constructor(options, data = {}) {\n    super(options);\n    this.table = Storage.parse(data);\n  }\n\n  _parsedData() {\n    return this.table;\n  }\n\n  get store() {\n    return this.table;\n  }\n\n  static get type() {\n    return 'jsonstorage';\n  }\n}\n\nmodule.exports = JsonStorage;\n","const IndexedDB = require('./storages/indexeddb');\nconst WebSQL = require('./storages/websql');\nconst LocalStorage = require('./storages/localstorage');\nconst Cookies = require('./storages/cookies');\nconst JsonStorage = require('./storages/jsonstorage');\n\nlet storages = {};\nstorages[IndexedDB.type] = IndexedDB;\nstorages[WebSQL.type] = WebSQL;\nstorages[LocalStorage.type] = LocalStorage;\nstorages[Cookies.type] = Cookies;\nstorages[JsonStorage.type] = JsonStorage;\n\nmodule.exports = storages;\n","const storages = require('./storages');\nconst JsonStorage = require('./storages/jsonstorage');\n\nclass SifrrStorage {\n  constructor(options) {\n    if (typeof options === 'string') options = { priority: [options] };\n    else options = options || {};\n    this._options = Object.assign(this.constructor.defaultOptions, options);\n    return this.storage;\n  }\n\n  get storage() {\n    let storage = this.supportedStore();\n    if (typeof storage === 'undefined')\n      throw Error('No available storage supported in this browser');\n    let matchingInstance = this.constructor._matchingInstance(this._options, storage.type);\n    if (matchingInstance) {\n      return matchingInstance;\n    } else {\n      let storageInstance = new storage(this._options);\n      this.constructor._add(storageInstance);\n      return storageInstance;\n    }\n  }\n\n  get priority() {\n    return this._options.priority.concat([\n      'indexeddb',\n      'websql',\n      'localstorage',\n      'cookies',\n      'jsonstorage'\n    ]);\n  }\n\n  supportedStore() {\n    for (let i = 0; i < this.priority.length; i++) {\n      let store = this.constructor.availableStores[this.priority[i]];\n      if (store && new store(this._options).isSupported()) return store;\n    }\n  }\n\n  static _matchingInstance(options, type) {\n    let allInstances = this.all,\n      i;\n    let length = allInstances.length;\n    for (i = 0; i < length; i++) {\n      if (allInstances[i]._isEqual(options, type)) return allInstances[i];\n    }\n    return false;\n  }\n\n  static _add(instance) {\n    this.all.push(instance);\n  }\n\n  static get defaultOptions() {\n    return {\n      priority: [],\n      name: 'SifrrStorage',\n      version: 1,\n      description: 'Sifrr Storage',\n      size: 5 * 1024 * 1024\n    };\n  }\n\n  static json(data) {\n    return new JsonStorage({}, data);\n  }\n}\n\nSifrrStorage.availableStores = storages;\nSifrrStorage.all = [];\n\nmodule.exports = SifrrStorage;\n"],"names":["JsonExt","Storage","IndexedDB","WebSQL","LocalStorage","Cookies","JsonStorage","storages"],"mappings":"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"}