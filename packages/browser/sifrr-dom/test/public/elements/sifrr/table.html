<template>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <div class="table">
    <div class="rows" data-sifrr-html="true">
      ${this.state.rows()}
    </div>
  </div>
</template>
<script>
  class SifrrTable extends Sifrr.Dom.Element {}
  SifrrTable.defaultState = {
    "rows": function() {
      const data = this.data;
      const l = data.length;
      let fragment = document.createDocumentFragment();
      for(let i = 0; i < l; i++ ) {
        fragment.appendChild(createRow(data[i]));
      }
      return fragment;
    },
    "data": [{ id: '1', label: 'ok' }, {id: '2', label: 'bang' }]
  }
  Sifrr.Dom.load('sifrr-table-row');
  const str = document.createElement('sifrr-table-row');
  function createRow(state) {
    const strr = str.cloneNode(true);
    strr._state = state;
    return strr;
  }
  Sifrr.Dom.register(SifrrTable);
</script>