/*! Sifrr.Fetch v0.0.2-alpha - sifrr project */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e=e||self).Sifrr=e.Sifrr||{},e.Sifrr.Fetch=t())}(this,function(){"use strict";var e=class{constructor(e,t={}){this._options=t,this._url=e}get response(){return window.fetch(this.url,this.options).then(e=>{let t=e.headers.get("content-type");if(e.ok)return t&&t.includes("application/json")&&(e=e.json()),e;{let t=Error(e.statusText);throw t.response=e,t}})}get url(){const e=this._options.params;return e&&Object.keys(e).length>0?this._url+"?"+Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&"):this._url}get options(){const e=Object.assign({mode:"cors",redirect:"follow",cache:"no-cache"},this._options);return e.headers=Object.assign({accept:"application/json"},this._options.headers||{}),"object"==typeof e.body&&(e.body=JSON.stringify(e.body)),e}};class t{static get(t,s){const{url:r,options:o}=this.afterUse(t,s,"GET");return new e(r,o).response}static post(t,s){const{url:r,options:o}=this.afterUse(t,s,"POST");return new e(r,o).response}static put(t,s){const{url:r,options:o}=this.afterUse(t,s,"PUT");return new e(r,o).response}static delete(t,s){const{url:r,options:o}=this.afterUse(t,s,"DELETE");return new e(r,o).response}static graphql(t,s){const{url:r,options:o}=this.afterUse(t,s,"POST"),{query:n,variables:i={}}=o;return delete o.query,delete o.variables,o.headers=o.headers||{},o.headers["Content-Type"]="application/json",o.headers.Accept="application/json",o.body={query:n,variables:i},new e(r,o).response}static file(t,s){const{url:r,options:o}=this.afterUse(t,s,"GET");return o.headers=o.headers||{},o.headers.accept=o.headers.accept||"*/*",new e(r,o).response}static use(e){t._middlewares.push(e)}static afterUse(e,s={},r){return s.method=r,t._middlewares.forEach(t=>{const r=t(e,s);e=r.url,s=r.options}),{url:e,options:s}}}return t._middlewares=[],t});
/*! (c) @aadityataparia */
//# sourceMappingURL=sifrr.fetch.min.js.map
